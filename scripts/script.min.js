let _0x5ad394=_0x573e,projectData=((()=>{for(var e=_0x573e,t=_0x2394();;)try{if(691655==-parseInt(e(327))*(-parseInt(e(421))/2)+parseInt(e(381))/3*(-parseInt(e(358))/4)+-parseInt(e(369))/5+parseInt(e(390))/6*(-parseInt(e(431))/7)+-parseInt(e(415))/8*(-parseInt(e(353))/9)+-parseInt(e(409))/10*(parseInt(e(419))/11)+parseInt(e(326))/12)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),window.location[_0x5ad394(406)]!==_0x5ad394(397)&&(alert(_0x5ad394(337)),window[_0x5ad394(399)][_0x5ad394(367)]=_0x5ad394(371)),JSON[_0x5ad394(379)](localStorage[_0x5ad394(374)](_0x5ad394(347)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x5ad394(414),"#34a853",_0x5ad394(404),_0x5ad394(324),"#9c27b0",_0x5ad394(383)],highlightRow=parseInt(localStorage[_0x5ad394(374)]("highlightRow"))||1;function saveAndRender(){var e=_0x5ad394;localStorage[e(382)](e(347),JSON[e(323)](projectData)),render()}function clearTimeline(){var e=_0x5ad394,t=(projectData=[],localStorage[e(351)](e(348)),saveAndRender(),isLockAreaEnabled=!1,localStorage.setItem(e(345),JSON[e(323)](isLockAreaEnabled)),updateLockAreaToggle(),document[e(412)](e(341)));t[e(378)]=e(398),t[e(366)][e(417)]=e(410)}function snapToGrid(e){var t=_0x5ad394;return Math[t(408)](e/sprintWidth)*sprintWidth}function snapToRow(e){return Math.round(e/rowHeight)*rowHeight}function render(){var e=_0x5ad394;timeline[e(391)]='<div class="timeline-grid"></div>',drawResourceRows(),projectData[e(385)](e=>timeline.appendChild(createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x5ad394,a=26*sprintWidth;for(let e=0;e<50;e++){var r=document[t(384)](t(364));r[t(352)]=t(372),r[t(366)][t(400)]=e*rowHeight+"px",r[t(366)][t(331)]=a+"px",timeline[t(322)](r)}var e=document[t(384)](t(364));e[t(352)]="resource-line",e[t(366)].top=highlightRow*rowHeight-2+"px",timeline[t(322)](e)}function createEpicElement(e){var t=_0x5ad394,a=document[t(384)](t(364));return a[t(352)]=t(349),a[t(366)].backgroundColor=e[t(417)],a[t(366)].top=e.top+"px",a[t(366)][t(427)]=e[t(427)]+"px",a[t(366)][t(331)]=e.width*sprintWidth+"px",a.style[t(422)]=e[t(389)]*rowHeight+"px",a.innerHTML=t(354)+e.id+t(386)+e[t(338)]+t(426)+e[t(331)]+t(405)+e[t(389)]+t(396)+e.id+t(346),makeDraggable(a,e),a}function deleteEpic(t){var e=_0x5ad394;projectData=projectData[e(360)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x5ad394,a=projectData[e(332)](e=>e.id===t),r=prompt(e(359),a[e(338)]);null!==r&&(a[e(338)]=r.trim()||e(424),saveAndRender())}function makeDraggable(e,a){let r=_0x5ad394;e[r(388)](r(368),e=>{var t=r;(e.target.classList[t(416)]("resize-handle")?startResizing:e[t(329)].classList.contains(t(365))?startVerticalResizing:startDragging)(e,a)})}function startDragging(e,i){let n=_0x5ad394,o=(e[n(328)](),e[n(370)]-e.target.getBoundingClientRect().left),d=e[n(339)]-e[n(329)][n(355)]().top;document[n(363)]=e=>{var t=n;let a=snapToGrid(e[t(370)]-o-timeline[t(355)]()[t(427)]),r=snapToRow(e.clientY-d-timeline[t(355)]()[t(400)]);a<0&&(a=0),r<0&&(r=0),checkOverlap(i,a,r,i[t(331)]*sprintWidth,i[t(389)]*rowHeight)||(i[t(427)]=a,i[t(400)]=r,saveAndRender())},document.onmouseup=()=>document[n(363)]=null}function startResizing(e,r){let i=_0x5ad394,n=e[i(370)],o=r[i(331)]*sprintWidth,d=r[i(389)]*rowHeight;document[i(363)]=e=>{var t,a=i,e=snapToGrid(Math[a(420)](sprintWidth,o+(e[a(370)]-n))),e=Math.round(e/sprintWidth);isLockAreaEnabled?(t=d/rowHeight*(o/sprintWidth),t=Math[a(408)](t/e),checkOverlap(r,r[a(427)],r[a(400)],e*sprintWidth,t*rowHeight)||(r[a(331)]=e,r[a(389)]=t,saveAndRender())):checkOverlap(r,r[a(427)],r.top,e*sprintWidth,r[a(389)]*rowHeight)||(r[a(331)]=e,saveAndRender())},document[i(320)]=()=>document[i(363)]=null,e[i(334)]()}document[_0x5ad394(412)](_0x5ad394(429))[_0x5ad394(376)]=highlightRow,document[_0x5ad394(412)](_0x5ad394(429))[_0x5ad394(388)](_0x5ad394(423),e=>{var t=_0x5ad394;highlightRow=parseInt(e[t(329)][t(376)])||1,localStorage.setItem(t(357),highlightRow),render()}),document.querySelector(_0x5ad394(407)).addEventListener("dragstart",e=>{var t=_0x5ad394;e[t(343)][t(330)]("type",t(349))}),timeline[_0x5ad394(388)](_0x5ad394(418),e=>e[_0x5ad394(328)]()),timeline[_0x5ad394(388)](_0x5ad394(340),e=>{var t,a,r=_0x5ad394;"epic"===e.dataTransfer[r(335)](r(342))&&(e=snapToGrid(e[r(370)]-timeline.getBoundingClientRect()[r(427)]),t=snapToRow(projectData[r(395)]*rowHeight),a=colors[projectData[r(395)]%colors[r(395)]],checkOverlap(null,e,t,3*sprintWidth)?alert("Cannot place Epic here - overlaps with existing Epic."):(projectData[r(373)]({id:Date[r(361)](),name:"New Epic",left:e,top:t,width:3,resourceCount:1,color:a}),saveAndRender()))});let isLockAreaEnabled=JSON.parse(localStorage[_0x5ad394(374)]("isLockAreaEnabled"))||!1;function toggleLockArea(){var e=_0x5ad394;isLockAreaEnabled=!isLockAreaEnabled,localStorage.setItem(e(345),JSON[e(323)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x5ad394,t=document[e(412)](e(375)),a=t[e(393)]("i");isLockAreaEnabled?(t[e(387)][e(430)](e(350)),a[e(387)][e(428)](e(401)),a[e(387)][e(430)]("fa-lock"),t[e(391)]=e(392)):(t[e(387)].remove(e(350)),a[e(387)].remove(e(356)),a[e(387)][e(430)](e(401)),t[e(391)]=e(413))}function startVerticalResizing(e,r){let i=_0x5ad394,n=e[i(339)],o=r[i(389)]*rowHeight,d=r.width*sprintWidth;document[i(363)]=e=>{var t,a=i,e=snapToRow(Math[a(420)](rowHeight,o+(e.clientY-n))),e=Math[a(408)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(d/sprintWidth),t=Math[a(408)](t/e),checkOverlap(r,r[a(427)],r[a(400)],t*sprintWidth,e*rowHeight)||(r[a(331)]=t,r.resourceCount=e,saveAndRender())):checkOverlap(r,r[a(427)],r[a(400)],r[a(331)]*sprintWidth,e*rowHeight)||(r[a(389)]=e,saveAndRender())},document[i(320)]=()=>document[i(363)]=null,e[i(334)]()}function checkOverlap(t,a,r,i=t?.width*sprintWidth,n=t?.[_0x5ad394(389)]*rowHeight){let o=_0x5ad394;return projectData[o(402)](e=>e.id!==t?.id&&r<e[o(400)]+e[o(389)]*rowHeight&&r+n>e[o(400)]&&a<e[o(427)]+e[o(331)]*sprintWidth&&a+i>e[o(427)])}function drawSprintGrid(){var t,a=_0x5ad394,r=document.querySelector(a(394)),i=(r[a(391)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[a(384)](a(364)))[a(352)]=a(336),t[a(366)].left=e+"px",t.style[a(422)]=n+"px",r[a(322)](t))}function _0x2394(){let e=["244694lUvpdy","height","input","New Epic","result",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"left","remove","highlightRowInput","add","7MckfAr","onmouseup","body","appendChild","stringify","#009688","trim","25624092MPtdda","3UOUoVE","preventDefault","target","setData","width","find","onload","stopPropagation","getData","sprint-border","This page can only be accessed from ganttris.com","name","clientY","drop","page-title","type","dataTransfer","Enter","isLockAreaEnabled",')"><i class="fas fa-trash-alt"></i></div>\n    ',"projectData","pageTitle","epic","locked","removeItem","className","9HRlhBH",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"getBoundingClientRect","fa-lock","highlightRow","4bxItwP","Edit Epic Name:","filter","now","click","onmousemove","div","resize-handle-vertical","style","href","mousedown","2571050wTZlsR","clientX","https://ganttris.com","resource-row","push","getItem","lock-effort-toggle","value","files","innerText","parse","setAttribute","3016251iIMlVj","setItem","#4682B4","createElement","forEach",')">',"classList","addEventListener","resourceCount","3490308yfPbOH","innerHTML",'<i class="fas fa-lock"></i> Effort',"querySelector",".timeline-grid","length",'</div>\n        <div class="delete-epic" onclick="deleteEpic(',"ganttris.com","My Project","location","top","fa-lock-open","some","download","#6B8E23",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"hostname",".toolbar-item","round","5354090Bbwufr","#B0B0B0","readAsText","getElementById",'<i class="fas fa-lock-open"></i> Effort',"#1a73e8","6608216otfJbP","contains","color","dragover","11hjnsxQ","max"];return(_0x2394=function(){return e})()}updateLockAreaToggle();let savedTitle=localStorage[_0x5ad394(374)](_0x5ad394(348)),pageTitleElement=document[_0x5ad394(412)]("page-title");function _0x573e(e,t){let a=_0x2394();return(_0x573e=function(e,t){return e-=320,a[e]})(e,t)}function downloadData(){var e=_0x5ad394,t={projectData:projectData,pageTitle:localStorage.getItem("pageTitle"),isLockAreaEnabled:JSON[e(379)](localStorage[e(374)](e(345)))},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON[e(323)](t)),a=document.createElement("a");a[e(380)](e(367),t),a[e(380)](e(403),"projectData.gntt"),document[e(321)][e(322)](a),a[e(362)](),a[e(428)]()}function uploadData(e){let r=_0x5ad394,t=e.target[r(377)][0];t&&((e=new FileReader)[r(333)]=function(e){var t=r,e=JSON.parse(e[t(329)][t(425)]),e=(projectData=e[t(347)]||[],localStorage[t(382)]("pageTitle",e[t(348)]||t(398)),localStorage.setItem(t(345),JSON[t(323)](e[t(345)]||!1)),saveAndRender(),document.getElementById(t(341))),a=localStorage.getItem("pageTitle");a&&a!==t(398)?(e[t(378)]=a,e[t(366)][t(417)]=""):(e[t(378)]="My Project",e[t(366)][t(417)]=t(410)),isLockAreaEnabled=JSON[t(379)](localStorage[t(374)]("isLockAreaEnabled"))||!1,updateLockAreaToggle()},e[r(411)](t))}savedTitle&&savedTitle!==_0x5ad394(398)?(pageTitleElement[_0x5ad394(378)]=savedTitle,pageTitleElement[_0x5ad394(366)][_0x5ad394(417)]=""):(pageTitleElement.innerText=_0x5ad394(398),pageTitleElement[_0x5ad394(366)][_0x5ad394(417)]=_0x5ad394(410)),pageTitleElement[_0x5ad394(388)]("keydown",e=>{var t=_0x5ad394;e.key===t(344)&&e[t(328)]()}),pageTitleElement[_0x5ad394(388)]("input",e=>{var t=_0x5ad394,e=e[t(329)][t(378)][t(325)]();e&&"My Project"!==e?(localStorage[t(382)](t(348),e),pageTitleElement[t(366)][t(417)]=""):(pageTitleElement[t(378)]=t(398),pageTitleElement.style[t(417)]=t(410),localStorage.setItem(t(348),t(398)))}),saveAndRender();