let _0x2e7550=_0x2656,projectData=((()=>{for(var e=_0x2656,t=_0x52f1();;)try{if(342861==-parseInt(e(372))+parseInt(e(459))/2*(-parseInt(e(399))/3)+parseInt(e(463))/4*(parseInt(e(424))/5)+-parseInt(e(398))/6+-parseInt(e(482))/7+parseInt(e(440))/8*(-parseInt(e(413))/9)+-parseInt(e(452))/10*(-parseInt(e(487))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),JSON[_0x2e7550(484)](localStorage[_0x2e7550(422)](_0x2e7550(375)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x2e7550(460),_0x2e7550(488),_0x2e7550(475),_0x2e7550(390),_0x2e7550(383),_0x2e7550(446)],highlightRow=parseInt(localStorage.getItem(_0x2e7550(385)))||1;function saveAndRender(){var e=_0x2e7550;localStorage[e(485)](e(375),JSON[e(441)](projectData)),render()}function clearTimeline(){var e=_0x2e7550,t=(projectData=[],localStorage[e(464)]("pageTitle"),saveAndRender(),isLockAreaEnabled=!1,localStorage.setItem(e(430),JSON[e(441)](isLockAreaEnabled)),updateLockAreaToggle(),document.getElementById("page-title"));t[e(421)]="My Project",t[e(380)][e(374)]=e(435)}function snapToGrid(e){var t=_0x2e7550;return Math[t(401)](e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x2e7550;return Math[t(401)](e/rowHeight)*rowHeight}function render(){let t=_0x2e7550;timeline[t(411)]=t(378),drawResourceRows(),projectData[t(439)](e=>timeline[t(416)](createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x2e7550,a=26*sprintWidth;for(let e=0;e<50;e++){var r=document.createElement(t(447));r.className=t(468),r[t(380)][t(466)]=e*rowHeight+"px",r[t(380)].width=a+"px",timeline[t(416)](r)}var e=document.createElement("div");e[t(393)]="resource-line",e[t(380)].top=highlightRow*rowHeight-2+"px",e[t(380)][t(457)]=timeline[t(438)]+"px",timeline.appendChild(e)}function createEpicElement(e){var t=_0x2e7550,a=document[t(388)](t(447));return a[t(393)]=t(454),a[t(380)][t(405)]=e[t(374)],a[t(380)][t(466)]=e.top+"px",a[t(380)][t(386)]=e[t(386)]+"px",a[t(380)][t(457)]=e[t(457)]*sprintWidth+"px",a[t(380)][t(418)]=e[t(445)]*rowHeight+"px",a[t(411)]=t(427)+e.id+t(389)+e[t(458)]+t(402)+e[t(457)]+t(391)+e[t(445)]+t(420)+e.id+')"><i class="fas fa-trash-alt"></i></div>\n    ',makeDraggable(a,e),a}function deleteEpic(t){var e=_0x2e7550;projectData=projectData[e(453)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x2e7550,a=projectData[e(478)](e=>e.id===t),r=prompt("Edit Epic Name:",a[e(458)]);null!==r&&(a[e(458)]=r[e(412)]()||e(426),saveAndRender())}function makeDraggable(e,a){let r=_0x2e7550;e[r(377)](r(384),e=>{var t=r;(e[t(379)].classList[t(461)]("resize-handle")?startResizing:e.target[t(456)].contains("resize-handle-vertical")?startVerticalResizing:startDragging)(e,a)})}function startDragging(e,i){let n=_0x2e7550,o=(e[n(472)](),e[n(423)]-e.target[n(444)]()[n(386)]),l=e.clientY-e[n(379)][n(444)]().top;document[n(450)]=e=>{var t=n;let a=snapToGrid(e.clientX-o-timeline.getBoundingClientRect().left),r=snapToRow(e[t(467)]-l-timeline[t(444)]()[t(466)]);a<0&&(a=0),r<0&&(r=0),checkOverlap(i,a,r,i[t(457)]*sprintWidth,i[t(445)]*rowHeight)||(i.left=a,i[t(466)]=r,saveAndRender())},document.onmouseup=()=>document[n(450)]=null}function startResizing(e,r){let i=_0x2e7550,n=e[i(423)],o=r[i(457)]*sprintWidth,l=r.resourceCount*rowHeight;document.onmousemove=e=>{var t,a=i,e=snapToGrid(Math[a(396)](sprintWidth,o+(e[a(423)]-n))),e=Math[a(401)](e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math.round(t/e),checkOverlap(r,r[a(386)],r[a(466)],e*sprintWidth,t*rowHeight)||(r[a(457)]=e,r.resourceCount=t,saveAndRender())):checkOverlap(r,r[a(386)],r[a(466)],e*sprintWidth,r[a(445)]*rowHeight)||(r[a(457)]=e,saveAndRender())},document[i(376)]=()=>document[i(450)]=null,e[i(403)]()}document[_0x2e7550(455)](_0x2e7550(417))[_0x2e7550(406)]=highlightRow,document[_0x2e7550(455)](_0x2e7550(417))[_0x2e7550(377)](_0x2e7550(382),e=>{var t=_0x2e7550;highlightRow=parseInt(e.target.value)||1,localStorage.setItem(t(385),highlightRow),render()}),document[_0x2e7550(473)](_0x2e7550(400))[_0x2e7550(377)](_0x2e7550(419),e=>{let a=_0x2e7550,r=(e.dataTransfer[a(477)]("type",a(454)),e[a(483)][a(407)](new Image,0,0),document[a(388)](a(447)));r[a(393)]=a(454),r[a(380)][a(462)]=a(371),r.style[a(457)]=sprintWidth+"px",r[a(380)][a(418)]=rowHeight+"px",r[a(380)].backgroundColor=colors[projectData[a(432)]%colors[a(432)]],r[a(380)][a(479)]=a(370),r.style[a(476)]="none",document[a(381)][a(416)](r),document[a(377)](a(486),e=>{var t=a;r[t(380)][t(386)]=e[t(423)]-sprintWidth/2+"px",r[t(380)].top=e[t(467)]-rowHeight/2+"px"}),document[a(377)](a(431),()=>{var e=a;document[e(381)][e(443)](r)},{once:!0})}),timeline[_0x2e7550(377)](_0x2e7550(486),e=>e[_0x2e7550(472)]()),timeline[_0x2e7550(377)](_0x2e7550(431),e=>{var t=_0x2e7550;if("epic"===e[t(483)][t(397)](t(465))){let r=snapToGrid(e[t(423)]+timeline[t(451)]-timeline[t(444)]().left),i=snapToRow(e[t(467)]-timeline[t(444)]().top);var a=colors[projectData[t(432)]%colors[t(432)]],n=Math[t(394)]((e.clientY-timeline[t(444)]()[t(466)])/rowHeight),e=Math.floor((e[t(423)]+timeline[t(451)]-timeline[t(444)]()[t(386)])/sprintWidth);if(i=n*rowHeight,checkOverlap(null,r=e*sprintWidth,i,sprintWidth,rowHeight)){var o=10;let a=!1;for(let t=-o;t<=o;t+=o){for(let e=-o;e<=o;e+=o)if(!checkOverlap(null,r+t,i+e,sprintWidth,rowHeight)){r+=t,i+=e,a=!0;break}if(a)break}if(!a)return void alert("Cannot place Epic here - overlaps with existing Epic.")}projectData[t(471)]({id:Date.now(),name:t(426),left:r,top:i,width:1,resourceCount:1,color:a}),saveAndRender()}});let isLockAreaEnabled=JSON[_0x2e7550(484)](localStorage[_0x2e7550(422)]("isLockAreaEnabled"))||!1;function toggleLockArea(){var e=_0x2e7550;isLockAreaEnabled=!isLockAreaEnabled,localStorage.setItem(e(430),JSON[e(441)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x2e7550,t=document.getElementById(e(387)),a=t[e(473)]("i");isLockAreaEnabled?(t.classList.add(e(395)),a[e(456)][e(429)](e(442)),a[e(456)][e(449)](e(470)),t.innerHTML=e(392)):(t.classList.remove("locked"),a[e(456)][e(429)](e(470)),a[e(456)][e(449)](e(442)),t[e(411)]=e(481))}function startVerticalResizing(e,r){let i=_0x2e7550,n=e[i(467)],o=r[i(445)]*rowHeight,l=r[i(457)]*sprintWidth;document[i(450)]=e=>{var t,a=i,e=snapToRow(Math[a(396)](rowHeight,o+(e[a(467)]-n))),e=Math[a(401)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math[a(401)](t/e),checkOverlap(r,r.left,r.top,t*sprintWidth,e*rowHeight)||(r.width=t,r[a(445)]=e,saveAndRender())):checkOverlap(r,r[a(386)],r[a(466)],r[a(457)]*sprintWidth,e*rowHeight)||(r[a(445)]=e,saveAndRender())},document[i(376)]=()=>document[i(450)]=null,e[i(403)]()}function checkOverlap(t,a,r,i=t?.[_0x2e7550(457)]*sprintWidth,n=t?.[_0x2e7550(445)]*rowHeight){let o=_0x2e7550;return projectData.some(e=>e.id!==t?.id&&r<e[o(466)]+e[o(445)]*rowHeight&&r+n>e[o(466)]&&a<e[o(386)]+e[o(457)]*sprintWidth&&a+i>e[o(386)])}function drawSprintGrid(){var t,a=_0x2e7550,r=document[a(473)](".timeline-grid"),i=(r[a(411)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[a(388)](a(447)))[a(393)]="sprint-border",t[a(380)][a(386)]=e+"px",t.style[a(418)]=n+"px",r.appendChild(t))}updateLockAreaToggle();let savedTitle=localStorage[_0x2e7550(422)](_0x2e7550(410)),pageTitleElement=document[_0x2e7550(455)]("page-title");function _0x52f1(){let e=["stringify","fa-lock-open","removeChild","getBoundingClientRect","resourceCount","#4682B4","div","key","add","onmousemove","scrollLeft","1383730ukbURU","filter","epic","getElementById","classList","width","name","838KuBjtf","#1a73e8","contains","position","4kkYDAR","removeItem","type","top","clientY","resource-row","fill","fa-lock","push","preventDefault","querySelector","map","#6B8E23","pointerEvents","setData","find","opacity","href",'<i class="fas fa-lock-open"></i> Effort',"1765414AhOwHt","dataTransfer","parse","setItem","dragover","165SDSyao","#34a853","0.5","absolute","446839dohJVg","setAttribute","color","projectData","onmouseup","addEventListener",'<div class="timeline-grid"></div>',"target","style","body","input","#9c27b0","mousedown","highlightRow","left","lock-effort-toggle","createElement",')">',"#009688",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ','<i class="fas fa-lock"></i> Effort',"className","floor","locked","max","getData","1088724gMWrpg","4182TBvYWs",".toolbar-item","round",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"stopPropagation","download","backgroundColor","value","setDragImage","Cannot arrange all epics within the defined resource limit.","page-title","pageTitle","innerHTML","trim","27kBTOFQ","readAsText","arrangeButton","appendChild","highlightRowInput","height","dragstart",'</div>\n        <div class="delete-epic" onclick="deleteEpic(',"innerText","getItem","clientX","926065pbovnS","sort","New Epic",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"result","remove","isLockAreaEnabled","drop","length","My Project","keydown","#B0B0B0","projectData.gntt","click","scrollWidth","forEach","1208976UBEBtq"];return(_0x52f1=function(){return e})()}function downloadData(){var e=_0x2e7550,t={projectData:projectData,pageTitle:localStorage[e(422)](e(410)),isLockAreaEnabled:JSON[e(484)](localStorage[e(422)](e(430)))},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON[e(441)](t)),a=document[e(388)]("a");a[e(373)](e(480),t),a[e(373)](e(404),e(436)),document[e(381)][e(416)](a),a[e(437)](),a[e(429)]()}function _0x2656(e,t){let a=_0x52f1();return(_0x2656=function(e,t){return e-=370,a[e]})(e,t)}function uploadData(e){let r=_0x2e7550,t=e[r(379)].files[0];t&&((e=new FileReader).onload=function(e){var t=r,e=JSON[t(484)](e[t(379)][t(428)]),e=(projectData=e.projectData||[],localStorage[t(485)](t(410),e[t(410)]||t(433)),localStorage[t(485)](t(430),JSON[t(441)](e[t(430)]||!1)),saveAndRender(),document[t(455)](t(409))),a=localStorage[t(422)](t(410));a&&"My Project"!==a?(e.innerText=a,e[t(380)][t(374)]=""):(e[t(421)]=t(433),e.style.color=t(435)),isLockAreaEnabled=JSON[t(484)](localStorage[t(422)](t(430)))||!1,updateLockAreaToggle()},e[r(414)](t))}function arrangeEpics(){let i=_0x2e7550,n=parseInt(document[i(455)]("highlightRowInput").value)||1,o=Array(n).fill(0)[i(474)](()=>Array(26)[i(469)](!1));projectData[i(425)]((e,t)=>t.resourceCount*t[i(457)]-e.resourceCount*e[i(457)]),projectData[i(439)](a=>{var e=i;let r=!1;for(let t=0;t<26&&!r;t++)for(let e=0;e<n&&!r;e++)canPlaceEpic(a,e,t,o)&&(placeEpic(a,e,t,o),r=!0);r||alert(e(408))}),saveAndRender()}function canPlaceEpic(a,e,r,i){var n=_0x2e7550;for(let t=e;t<e+a[n(445)];t++)for(let e=r;e<r+a.width;e++)if(t>=i[n(432)]||e>=i[0][n(432)]||i[t][e])return!1;return!0}function placeEpic(a,e,r,i){var n=_0x2e7550;a[n(386)]=r*sprintWidth,a.top=e*rowHeight;for(let t=e;t<e+a[n(445)];t++)for(let e=r;e<r+a[n(457)];e++)i[t][e]=!0}function compactEpicsVertically(){let e=_0x2e7550,i=parseInt(document.getElementById(e(417)).value)||1,n=Array(i).fill(0)[e(474)](()=>Array(26)[e(469)](!1));projectData[e(439)](a=>{let r=!1;for(let t=0;t<i&&!r;t++)for(let e=0;e<26&&!r;e++)canPlaceEpic(a,t,e,n)&&(placeEpic(a,t,e,n),r=!0)})}savedTitle&&savedTitle!==_0x2e7550(433)?(pageTitleElement[_0x2e7550(421)]=savedTitle,pageTitleElement[_0x2e7550(380)][_0x2e7550(374)]=""):(pageTitleElement[_0x2e7550(421)]=_0x2e7550(433),pageTitleElement[_0x2e7550(380)][_0x2e7550(374)]=_0x2e7550(435)),pageTitleElement[_0x2e7550(377)](_0x2e7550(434),e=>{"Enter"===e[_0x2e7550(448)]&&e.preventDefault()}),pageTitleElement.addEventListener(_0x2e7550(382),e=>{var t=_0x2e7550,e=e[t(379)].innerText[t(412)]();e&&e!==t(433)?(localStorage[t(485)](t(410),e),pageTitleElement[t(380)][t(374)]=""):(pageTitleElement[t(421)]=t(433),pageTitleElement[t(380)].color=t(435),localStorage[t(485)]("pageTitle",t(433)))}),document[_0x2e7550(455)](_0x2e7550(415))[_0x2e7550(377)](_0x2e7550(437),arrangeEpics),saveAndRender();