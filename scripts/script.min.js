let _0x2219b2=_0x177c,projectData=((()=>{for(var e=_0x177c,t=_0x304a();;)try{if(216638==-parseInt(e(440))+-parseInt(e(448))/2*(parseInt(e(489))/3)+parseInt(e(491))/4+parseInt(e(455))/5+-parseInt(e(376))/6*(parseInt(e(416))/7)+parseInt(e(418))/8+parseInt(e(389))/9)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),JSON.parse(localStorage[_0x2219b2(456)](_0x2219b2(442)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x2219b2(422),_0x2219b2(435),_0x2219b2(446),_0x2219b2(400),"#9c27b0","#4682B4"],highlightRow=parseInt(localStorage[_0x2219b2(456)](_0x2219b2(402)))||1;function saveAndRender(){var e=_0x2219b2;localStorage[e(488)]("projectData",JSON[e(386)](projectData)),render()}function clearTimeline(){var e=_0x2219b2,t=(projectData=[],localStorage[e(429)](e(447)),saveAndRender(),isLockAreaEnabled=!1,localStorage[e(488)](e(426),JSON[e(386)](isLockAreaEnabled)),updateLockAreaToggle(),document.getElementById("page-title"));t[e(483)]=e(432),t[e(430)][e(380)]=e(454)}function snapToGrid(e){return Math.round(e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x2219b2;return Math[t(473)](e/rowHeight)*rowHeight}function render(){let t=_0x2219b2;timeline.innerHTML=t(476),drawResourceRows(),projectData[t(481)](e=>timeline[t(417)](createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x2219b2,r=26*sprintWidth;for(let e=0;e<50;e++){var a=document[t(401)]("div");a[t(468)]=t(480),a[t(430)][t(475)]=e*rowHeight+"px",a[t(430)][t(453)]=r+"px",timeline.appendChild(a)}var e=document[t(401)](t(436));e[t(468)]=t(452),e.style.top=highlightRow*rowHeight-2+"px",e[t(430)][t(453)]=timeline[t(445)]+"px",timeline[t(417)](e)}function createEpicElement(e){var t=_0x2219b2,r=document[t(401)]("div");return r[t(468)]="epic",r.style[t(457)]=e[t(380)],r[t(430)][t(475)]=e[t(475)]+"px",r[t(430)][t(464)]=e.left+"px",r[t(430)][t(453)]=e[t(453)]*sprintWidth+"px",r[t(430)][t(403)]=e[t(472)]*rowHeight+"px",r.innerHTML='\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName('+e.id+t(404)+e.name+t(406)+e[t(453)]+t(396)+e.resourceCount+t(487)+e.id+t(486)+(e[t(467)]?"s":"r")+t(466)+e.id+t(384),makeDraggable(r,e),r}function _0x177c(e,t){let r=_0x304a();return(_0x177c=function(e,t){return e-=373,r[e]})(e,t)}function toggleStarEpic(t){var e=_0x2219b2,r=projectData.find(e=>e.id===t);r[e(467)]=!r[e(467)],saveAndRender()}function deleteEpic(t){var e=_0x2219b2;projectData=projectData[e(409)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x2219b2,r=projectData.find(e=>e.id===t),a=prompt(e(377),r[e(465)]);null!==a&&(r[e(465)]=a.trim()||"New Epic",saveAndRender())}function makeDraggable(e,r){e.addEventListener("mousedown",e=>{var t=_0x177c;e[t(382)][t(459)][t(398)](t(392))?startResizing(e,r):e[t(382)].classList[t(398)](t(395))?startVerticalResizing(e,r):e[t(382)][t(459)].contains("star-epic")||e[t(382)][t(459)][t(398)](t(443))||e[t(382)][t(490)](t(399))||startDragging(e,r)})}function startDragging(e,i){let n=_0x2219b2,o=(e.preventDefault(),e.clientX-e[n(382)][n(438)]()[n(464)]),l=e[n(425)]-e.target.getBoundingClientRect()[n(475)],c,s=!1,d=!1;document[n(378)]=e=>{var t=n;let r=snapToGrid(e.clientX-o+timeline.scrollLeft-timeline[t(438)]()[t(464)]),a=snapToRow(e[t(425)]-l-timeline[t(438)]()[t(475)]);r<0&&(r=0),a<0&&(a=0),checkOverlap(i,r,a,i.width*sprintWidth,i[t(472)]*rowHeight)?(s&&d||(s=!0,d=!0,(c=document.createElement(t(436)))[t(468)]=t(477),c[t(430)].position=t(471),c.style[t(453)]=i[t(453)]*sprintWidth+"px",c[t(430)][t(403)]=i.resourceCount*rowHeight+"px",c[t(430)].backgroundColor=i[t(380)],c[t(430)][t(412)]="0.5",c.style[t(439)]=t(451),document.body[t(417)](c)),c.style[t(464)]=e[t(463)]-o+"px",c[t(430)][t(475)]=e[t(425)]-l+"px"):(i[t(464)]=r,i.top=a,render(),c&&(document[t(470)][t(428)](c),c=null),d=!1)},document[n(387)]=()=>{var e=n;document.onmousemove=null,c&&document[e(470)][e(428)](c),saveAndRender()},e[n(437)]()}function startResizing(e,a){let i=_0x2219b2,n=e[i(463)],o=a.width*sprintWidth,l=a[i(472)]*rowHeight;document[i(378)]=e=>{var t,r=i,e=snapToGrid(Math[r(479)](sprintWidth,o+(e[r(463)]-n))),e=Math[r(473)](e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math[r(473)](t/e),checkOverlap(a,a.left,a[r(475)],e*sprintWidth,t*rowHeight)||(a[r(453)]=e,a.resourceCount=t,saveAndRender())):checkOverlap(a,a[r(464)],a[r(475)],e*sprintWidth,a[r(472)]*rowHeight)||(a[r(453)]=e,saveAndRender())},document.onmouseup=()=>document.onmousemove=null,e.stopPropagation()}document[_0x2219b2(381)]("highlightRowInput")[_0x2219b2(449)]=highlightRow,document[_0x2219b2(381)]("highlightRowInput").addEventListener(_0x2219b2(427),e=>{var t=_0x2219b2;highlightRow=parseInt(e[t(382)].value)||1,localStorage[t(488)](t(402),highlightRow),render()}),document.querySelector(_0x2219b2(444))[_0x2219b2(375)]("dragstart",e=>{let r=_0x2219b2,a=(e[r(431)].setData(r(421),r(477)),e[r(431)][r(423)](new Image,0,0),document[r(401)](r(436)));a[r(468)]=r(477),a[r(430)].position=r(471),a[r(430)][r(453)]=sprintWidth+"px",a[r(430)][r(403)]=rowHeight+"px",a[r(430)].backgroundColor=colors[projectData[r(434)]%colors[r(434)]],a[r(430)][r(412)]=r(405),a[r(430)][r(439)]=r(451),document[r(470)][r(417)](a),document.addEventListener(r(469),e=>{var t=r;a.style[t(464)]=e[t(463)]-sprintWidth/2+"px",a[t(430)][t(475)]=e[t(425)]-rowHeight/2+"px"}),document[r(375)](r(393),()=>{var e=r;document[e(470)][e(428)](a)},{once:!0})}),timeline[_0x2219b2(375)](_0x2219b2(469),e=>e[_0x2219b2(492)]()),timeline[_0x2219b2(375)]("drop",e=>{var t=_0x2219b2;if(e.dataTransfer[t(460)](t(421))===t(477)){let a=snapToGrid(e[t(463)]+timeline.scrollLeft-timeline[t(438)]()[t(464)]),i=snapToRow(e.clientY-timeline[t(438)]().top);var r=colors[projectData[t(434)]%colors.length],n=Math[t(373)]((e[t(425)]-timeline.getBoundingClientRect().top)/rowHeight),e=Math[t(373)]((e[t(463)]+timeline.scrollLeft-timeline.getBoundingClientRect()[t(464)])/sprintWidth);if(i=n*rowHeight,checkOverlap(null,a=e*sprintWidth,i,sprintWidth,rowHeight)){var o=10;let r=!1;for(let t=-o;t<=o;t+=o){for(let e=-o;e+=o;e+=o)if(!checkOverlap(null,a+t,i+e,sprintWidth,rowHeight)){a+=t,i+=e,r=!0;break}if(r)break}if(!r)return void alert(t(450))}projectData[t(415)]({id:Date.now(),name:t(424),left:a,top:i,width:1,resourceCount:1,color:r,starred:!1}),saveAndRender()}});let isLockAreaEnabled=JSON[_0x2219b2(391)](localStorage.getItem(_0x2219b2(426)))||!1;function toggleLockArea(){var e=_0x2219b2;isLockAreaEnabled=!isLockAreaEnabled,localStorage[e(488)](e(426),JSON.stringify(isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x2219b2,t=document[e(381)](e(461)),r=t[e(383)]("i");isLockAreaEnabled?(t[e(459)][e(478)](e(414)),r[e(459)][e(482)](e(441)),r.classList.add(e(397)),t[e(385)]='<i class="fas fa-lock"></i> Effort'):(t[e(459)][e(482)](e(414)),r.classList[e(482)](e(397)),r[e(459)][e(478)](e(441)),t[e(385)]='<i class="fas fa-lock-open"></i> Effort')}function startVerticalResizing(e,a){let i=_0x2219b2,n=e.clientY,o=a[i(472)]*rowHeight,l=a.width*sprintWidth;document[i(378)]=e=>{var t,r=i,e=snapToRow(Math.max(rowHeight,o+(e.clientY-n))),e=Math[r(473)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math[r(473)](t/e),checkOverlap(a,a[r(464)],a[r(475)],t*sprintWidth,e*rowHeight)||(a[r(453)]=t,a[r(472)]=e,saveAndRender())):checkOverlap(a,a[r(464)],a[r(475)],a[r(453)]*sprintWidth,e*rowHeight)||(a[r(472)]=e,saveAndRender())},document[i(387)]=()=>document[i(378)]=null,e[i(437)]()}function checkOverlap(t,r,a,i=t?.[_0x2219b2(453)]*sprintWidth,n=t?.resourceCount*rowHeight){let o=_0x2219b2;return projectData.some(e=>e.id!==t?.id&&a<e[o(475)]+e[o(472)]*rowHeight&&a+n>e.top&&r<e.left+e[o(453)]*sprintWidth&&r+i>e[o(464)])}function drawSprintGrid(){var t,r=_0x2219b2,a=document[r(383)](r(408)),i=(a[r(385)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[r(401)]("div"))[r(468)]=r(413),t[r(430)][r(464)]=e+"px",t[r(430)][r(403)]=n+"px",a[r(417)](t))}function _0x304a(){let e=["type","#1a73e8","setDragImage","New Epic","clientY","isLockAreaEnabled","input","removeChild","removeItem","style","dataTransfer","My Project","files","length","#34a853","div","stopPropagation","getBoundingClientRect","pointerEvents","282075VjFEES","fa-lock-open","projectData","delete-epic",".toolbar-item","scrollWidth","#6B8E23","pageTitle","504vJdplI","value","Cannot place Epic here - overlaps with existing Epic.","none","resource-line","width","#B0B0B0","419660PzUDlf","getItem","backgroundColor","setAttribute","classList","getData","lock-effort-toggle","sort","clientX","left","name",' fa-star"></i></div>\n        <div class="delete-epic" onclick="deleteEpic(',"starred","className","dragover","body","absolute","resourceCount","round","keydown","top",'<div class="timeline-grid"></div>',"epic","add","max","resource-row","forEach","remove","innerText","fill","onload",')"><i class="fa','</div>\n        <div class="star-epic" onclick="toggleStarEpic(',"setItem","4809yvNxuP","closest","8324KbIBIa","preventDefault","trim","floor","download","addEventListener","99126NRzovs","Edit Epic Name:","onmousemove","key","color","getElementById","target","querySelector",')"><i class="fas fa-trash-alt"></i></div>\n    ',"innerHTML","stringify","onmouseup","click","6669441UeLHcb","highlightRowInput","parse","resize-handle","drop","Enter","resize-handle-vertical",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"fa-lock","contains",".epic > div[onclick]","#009688","createElement","highlightRow","height",')">',"0.5",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"readAsText",".timeline-grid","filter","data:text/json;charset=utf-8,","arrangeButton","opacity","sprint-border","locked","push","7lLYUKi","appendChild","737024GuFCEE","Cannot arrange all epics within the defined resource limit.","map"];return(_0x304a=function(){return e})()}updateLockAreaToggle();let savedTitle=localStorage[_0x2219b2(456)](_0x2219b2(447)),pageTitleElement=document.getElementById("page-title");function downloadData(){var e=_0x2219b2,t={projectData:projectData,pageTitle:localStorage.getItem("pageTitle"),isLockAreaEnabled:JSON[e(391)](localStorage[e(456)]("isLockAreaEnabled"))},t=e(410)+encodeURIComponent(JSON[e(386)](t)),r=document[e(401)]("a");r.setAttribute("href",t),r[e(458)](e(374),"projectData.gntt"),document[e(470)][e(417)](r),r[e(388)](),r.remove()}function uploadData(e){let a=_0x2219b2,t=e[a(382)][a(433)][0];t&&((e=new FileReader)[a(485)]=function(e){var t=a,e=JSON[t(391)](e[t(382)].result),e=(projectData=e[t(442)]||[],localStorage.setItem(t(447),e[t(447)]||t(432)),localStorage[t(488)]("isLockAreaEnabled",JSON.stringify(e.isLockAreaEnabled||!1)),saveAndRender(),document[t(381)]("page-title")),r=localStorage.getItem(t(447));r&&r!==t(432)?(e[t(483)]=r,e[t(430)][t(380)]=""):(e[t(483)]=t(432),e[t(430)][t(380)]=t(454)),isLockAreaEnabled=JSON.parse(localStorage[t(456)](t(426)))||!1,updateLockAreaToggle()},e[a(407)](t))}function arrangeEpics(){let i=_0x2219b2,n=parseInt(document[i(381)](i(390))[i(449)])||1,o=Array(n)[i(484)](0).map(()=>Array(26).fill(!1));projectData[i(462)]((e,t)=>{var r=i;return e.starred!==t.starred?t[r(467)]-e[r(467)]:t[r(472)]*t[r(453)]-e[r(472)]*e[r(453)]}),projectData.forEach(r=>{var e=i;let a=!1;for(let t=0;t<26&&!a;t++)for(let e=0;e<n&&!a;e++)canPlaceEpic(r,e,t,o)&&(placeEpic(r,e,t,o),a=!0);a||alert(e(419))}),saveAndRender()}function canPlaceEpic(r,e,a,i){var n=_0x2219b2;for(let t=e;t<e+r.resourceCount;t++)for(let e=a;e<a+r[n(453)];e++)if(t>=i.length||e>=i[0][n(434)]||i[t][e])return!1;return!0}function placeEpic(r,e,a,i){var t=_0x2219b2;r.left=a*sprintWidth,r[t(475)]=e*rowHeight;for(let t=e;t<e+r.resourceCount;t++)for(let e=a;e<a+r.width;e++)i[t][e]=!0}function compactEpicsVertically(){let e=_0x2219b2,i=parseInt(document[e(381)](e(390))[e(449)])||1,n=Array(i).fill(0)[e(420)](()=>Array(26)[e(484)](!1));projectData.forEach(r=>{let a=!1;for(let t=0;t<i&&!a;t++)for(let e=0;e<26&&!a;e++)canPlaceEpic(r,t,e,n)&&(placeEpic(r,t,e,n),a=!0)})}savedTitle&&savedTitle!==_0x2219b2(432)?(pageTitleElement[_0x2219b2(483)]=savedTitle,pageTitleElement[_0x2219b2(430)][_0x2219b2(380)]=""):(pageTitleElement[_0x2219b2(483)]="My Project",pageTitleElement[_0x2219b2(430)].color=_0x2219b2(454)),pageTitleElement[_0x2219b2(375)](_0x2219b2(474),e=>{var t=_0x2219b2;e[t(379)]===t(394)&&e[t(492)]()}),pageTitleElement[_0x2219b2(375)](_0x2219b2(427),e=>{var t=_0x2219b2,e=e[t(382)][t(483)][t(493)]();e&&"My Project"!==e?(localStorage[t(488)](t(447),e),pageTitleElement.style[t(380)]=""):(pageTitleElement[t(483)]=t(432),pageTitleElement[t(430)][t(380)]=t(454),localStorage[t(488)](t(447),"My Project"))}),document[_0x2219b2(381)](_0x2219b2(411)).addEventListener(_0x2219b2(388),arrangeEpics),saveAndRender();