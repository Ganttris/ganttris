let _0x5c5a65=_0x7ef6,projectData=((()=>{for(var e=_0x7ef6,t=_0x2631();;)try{if(958448==+parseInt(e(563))+parseInt(e(548))/2*(-parseInt(e(462))/3)+-parseInt(e(476))/4*(parseInt(e(499))/5)+parseInt(e(537))/6+-parseInt(e(493))/7+parseInt(e(486))/8*(-parseInt(e(518))/9)+parseInt(e(542))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),"ganttris.com"!==window.location[_0x5c5a65(534)]&&(alert(_0x5c5a65(549)),window[_0x5c5a65(547)][_0x5c5a65(467)]=_0x5c5a65(556)),JSON[_0x5c5a65(530)](localStorage[_0x5c5a65(532)]("projectData"))||[]),rowHeight=50,sprintWidth=120,colors=["#1a73e8",_0x5c5a65(550),_0x5c5a65(526),_0x5c5a65(463),_0x5c5a65(516),_0x5c5a65(472)],highlightRow=parseInt(localStorage[_0x5c5a65(532)](_0x5c5a65(517)))||1;function saveAndRender(){var e=_0x5c5a65;localStorage[e(505)](e(538),JSON[e(511)](projectData)),render()}function clearTimeline(){var e=_0x5c5a65,t=(projectData=[],localStorage.removeItem(e(496)),saveAndRender(),isLockAreaEnabled=!1,localStorage[e(505)]("isLockAreaEnabled",JSON[e(511)](isLockAreaEnabled)),updateLockAreaToggle(),document.getElementById(e(469)));t.innerText=e(515),t[e(536)][e(525)]=e(474)}function snapToGrid(e){var t=_0x5c5a65;return Math[t(561)](e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x5c5a65;return Math[t(561)](e/rowHeight)*rowHeight}function _0x7ef6(e,t){let a=_0x2631();return(_0x7ef6=function(e,t){return e-=462,a[e]})(e,t)}function render(){var e=_0x5c5a65;timeline[e(508)]='<div class="timeline-grid"></div>',drawResourceRows(),projectData[e(521)](e=>timeline.appendChild(createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x5c5a65,a=26*sprintWidth;for(let e=0;e<50;e++){var r=document.createElement(t(465));r[t(466)]=t(553),r[t(536)][t(514)]=e*rowHeight+"px",r[t(536)].width=a+"px",timeline[t(504)](r)}var e=document[t(481)](t(465));e[t(466)]=t(491),e.style[t(514)]=highlightRow*rowHeight-2+"px",timeline[t(504)](e)}function createEpicElement(e){var t=_0x5c5a65,a=document.createElement("div");return a[t(466)]=t(480),a[t(536)].backgroundColor=e[t(525)],a[t(536)][t(514)]=e.top+"px",a[t(536)][t(531)]=e.left+"px",a[t(536)].width=e[t(470)]*sprintWidth+"px",a[t(536)][t(468)]=e[t(545)]*rowHeight+"px",a.innerHTML=t(487)+e.id+')">'+e[t(482)]+t(546)+e[t(470)]+t(483)+e[t(545)]+t(509)+e.id+t(544),makeDraggable(a,e),a}function deleteEpic(t){projectData=projectData.filter(e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x5c5a65,a=projectData.find(e=>e.id===t),r=prompt("Edit Epic Name:",a[e(482)]);null!==r&&(a[e(482)]=r[e(541)]()||e(535),saveAndRender())}function makeDraggable(e,a){let r=_0x5c5a65;e[r(551)]("mousedown",e=>{var t=r;(e[t(559)][t(485)][t(512)](t(484))?startResizing:e[t(559)].classList[t(512)](t(498))?startVerticalResizing:startDragging)(e,a)})}function startDragging(e,n){let i=_0x5c5a65,o=(e.preventDefault(),e.clientX-e.target[i(473)]()[i(531)]),c=e[i(503)]-e[i(559)][i(473)]().top;document[i(528)]=e=>{var t=i;let a=snapToGrid(e[t(494)]-o-timeline[t(473)]()[t(531)]),r=snapToRow(e[t(503)]-c-timeline[t(473)]().top);a<0&&(a=0),r<0&&(r=0),checkOverlap(n,a,r,n[t(470)]*sprintWidth,n[t(545)]*rowHeight)||(n[t(531)]=a,n[t(514)]=r,saveAndRender())},document[i(488)]=()=>document[i(528)]=null}function startResizing(e,r){let n=_0x5c5a65,i=e[n(494)],o=r.width*sprintWidth,c=r.resourceCount*rowHeight;document[n(528)]=e=>{var t,a=n,e=snapToGrid(Math[a(558)](sprintWidth,o+(e.clientX-i))),e=Math[a(561)](e/sprintWidth);isLockAreaEnabled?(t=c/rowHeight*(o/sprintWidth),t=Math[a(561)](t/e),checkOverlap(r,r.left,r.top,e*sprintWidth,t*rowHeight)||(r[a(470)]=e,r[a(545)]=t,saveAndRender())):checkOverlap(r,r[a(531)],r[a(514)],e*sprintWidth,r.resourceCount*rowHeight)||(r[a(470)]=e,saveAndRender())},document.onmouseup=()=>document[n(528)]=null,e[n(495)]()}document.getElementById(_0x5c5a65(497)).value=highlightRow,document[_0x5c5a65(477)](_0x5c5a65(497))[_0x5c5a65(551)]("input",e=>{var t=_0x5c5a65;highlightRow=parseInt(e.target.value)||1,localStorage[t(505)](t(517),highlightRow),render()}),document[_0x5c5a65(539)](".toolbar-item").addEventListener("dragstart",e=>{var t=_0x5c5a65;e[t(533)][t(489)](t(500),t(480))}),timeline[_0x5c5a65(551)]("dragover",e=>e.preventDefault()),timeline.addEventListener(_0x5c5a65(557),e=>{var t,a,r=_0x5c5a65;e[r(533)][r(520)](r(500))===r(480)&&(e=snapToGrid(e.clientX-timeline[r(473)]()[r(531)]),t=snapToRow(projectData[r(490)]*rowHeight),a=colors[projectData[r(490)]%colors[r(490)]],checkOverlap(null,e,t,3*sprintWidth)?alert("Cannot place Epic here - overlaps with existing Epic."):(projectData[r(523)]({id:Date[r(507)](),name:r(535),left:e,top:t,width:3,resourceCount:1,color:a}),saveAndRender()))});let isLockAreaEnabled=JSON[_0x5c5a65(530)](localStorage[_0x5c5a65(532)](_0x5c5a65(564)))||!1;function toggleLockArea(){var e=_0x5c5a65;isLockAreaEnabled=!isLockAreaEnabled,localStorage.setItem("isLockAreaEnabled",JSON[e(511)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x5c5a65,t=document[e(477)](e(555)),a=t[e(539)]("i");isLockAreaEnabled?(t.classList[e(543)](e(552)),a[e(485)][e(478)](e(529)),a.classList.add(e(471)),t.innerHTML=e(475)):(t[e(485)][e(478)](e(552)),a[e(485)][e(478)](e(471)),a[e(485)].add(e(529)),t.innerHTML=e(540))}function startVerticalResizing(e,r){let n=_0x5c5a65,i=e[n(503)],o=r[n(545)]*rowHeight,c=r[n(470)]*sprintWidth;document[n(528)]=e=>{var t,a=n,e=snapToRow(Math[a(558)](rowHeight,o+(e[a(503)]-i))),e=Math[a(561)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(c/sprintWidth),t=Math.round(t/e),checkOverlap(r,r[a(531)],r.top,t*sprintWidth,e*rowHeight)||(r[a(470)]=t,r[a(545)]=e,saveAndRender())):checkOverlap(r,r[a(531)],r[a(514)],r[a(470)]*sprintWidth,e*rowHeight)||(r.resourceCount=e,saveAndRender())},document[n(488)]=()=>document[n(528)]=null,e[n(495)]()}function checkOverlap(t,a,r,n=t?.[_0x5c5a65(470)]*sprintWidth,i=t?.resourceCount*rowHeight){let o=_0x5c5a65;return projectData[o(565)](e=>e.id!==t?.id&&r<e[o(514)]+e[o(545)]*rowHeight&&r+i>e.top&&a<e[o(531)]+e[o(470)]*sprintWidth&&a+n>e[o(531)])}function drawSprintGrid(){var t,a=_0x5c5a65,r=document[a(539)](a(501)),n=(r[a(508)]="",26*sprintWidth),i=50*rowHeight;for(let e=0;e<n;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[a(481)]("div")).className=a(522),t[a(536)].left=e+"px",t.style.height=i+"px",r[a(504)](t))}updateLockAreaToggle();let savedTitle=localStorage[_0x5c5a65(532)](_0x5c5a65(496)),pageTitleElement=document.getElementById(_0x5c5a65(469));function _0x2631(){let e=["trim","29635640djTIXG","add",')"><i class="fas fa-trash-alt"></i></div>\n    ',"resourceCount",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"location","2622434fakrMI","This page can only be accessed from ganttris.com","#34a853","addEventListener","locked","resource-row","setAttribute","lock-effort-toggle","https://ganttris.com","drop","max","target","preventDefault","round","keydown","1367628vPLAcL","isLockAreaEnabled","some","3EAuMIV","#009688","body","div","className","href","height","page-title","width","fa-lock","#4682B4","getBoundingClientRect","#B0B0B0",'<i class="fas fa-lock"></i> Effort',"124EBoZRl","getElementById","remove","onload","epic","createElement","name",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"resize-handle","classList","1904OrtiuS",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"onmouseup","setData","length","resource-line","result","12122999FiBaFf","clientX","stopPropagation","pageTitle","highlightRowInput","resize-handle-vertical","105285BMFaVA","type",".timeline-grid","data:text/json;charset=utf-8,","clientY","appendChild","setItem","input","now","innerHTML",'</div>\n        <div class="delete-epic" onclick="deleteEpic(',"download","stringify","contains","Enter","top","My Project","#9c27b0","highlightRow","17865wipwBS","click","getData","forEach","sprint-border","push","innerText","color","#6B8E23","key","onmousemove","fa-lock-open","parse","left","getItem","dataTransfer","hostname","New Epic","style","4773162xMlzWM","projectData","querySelector",'<i class="fas fa-lock-open"></i> Effort'];return(_0x2631=function(){return e})()}function downloadData(){var e=_0x5c5a65,t={projectData:projectData,pageTitle:localStorage[e(532)](e(496)),isLockAreaEnabled:JSON[e(530)](localStorage[e(532)]("isLockAreaEnabled"))},t=e(502)+encodeURIComponent(JSON[e(511)](t)),a=document[e(481)]("a");a[e(554)](e(467),t),a[e(554)](e(510),"projectData.gntt"),document[e(464)][e(504)](a),a[e(519)](),a[e(478)]()}function uploadData(e){let r=_0x5c5a65,t=e[r(559)].files[0];t&&((e=new FileReader)[r(479)]=function(e){var t=r,e=JSON[t(530)](e[t(559)][t(492)]),e=(projectData=e[t(538)]||[],localStorage[t(505)]("pageTitle",e[t(496)]||t(515)),localStorage[t(505)](t(564),JSON[t(511)](e.isLockAreaEnabled||!1)),saveAndRender(),document[t(477)](t(469))),a=localStorage.getItem(t(496));a&&a!==t(515)?(e[t(524)]=a,e[t(536)][t(525)]=""):(e[t(524)]=t(515),e[t(536)][t(525)]=t(474)),isLockAreaEnabled=JSON.parse(localStorage[t(532)](t(564)))||!1,updateLockAreaToggle()},e.readAsText(t))}savedTitle&&savedTitle!==_0x5c5a65(515)?(pageTitleElement[_0x5c5a65(524)]=savedTitle,pageTitleElement.style[_0x5c5a65(525)]=""):(pageTitleElement[_0x5c5a65(524)]="My Project",pageTitleElement[_0x5c5a65(536)].color="#B0B0B0"),pageTitleElement.addEventListener(_0x5c5a65(562),e=>{var t=_0x5c5a65;e[t(527)]===t(513)&&e[t(560)]()}),pageTitleElement.addEventListener(_0x5c5a65(506),e=>{var t=_0x5c5a65,e=e.target[t(524)][t(541)]();e&&"My Project"!==e?(localStorage[t(505)](t(496),e),pageTitleElement[t(536)].color=""):(pageTitleElement[t(524)]=t(515),pageTitleElement[t(536)][t(525)]=t(474),localStorage[t(505)]("pageTitle",t(515)))}),saveAndRender();