let _0x5a4772=_0x5ed4,projectData=((()=>{for(var e=_0x5ed4,t=_0x413f();;)try{if(130394==+parseInt(e(479))*(parseInt(e(446))/2)+-parseInt(e(496))/3+-parseInt(e(452))/4+parseInt(e(439))/5*(-parseInt(e(412))/6)+parseInt(e(497))/7*(parseInt(e(483))/8)+parseInt(e(447))/9*(-parseInt(e(459))/10)+-parseInt(e(494))/11*(-parseInt(e(410))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),JSON.parse(localStorage[_0x5a4772(416)](_0x5a4772(510)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x5a4772(476),_0x5a4772(414),"#6B8E23",_0x5a4772(409),"#9c27b0","#4682B4"],highlightRow=parseInt(localStorage[_0x5a4772(416)](_0x5a4772(488)))||1;function saveAndRender(){var e=_0x5a4772;localStorage[e(451)](e(510),JSON[e(498)](projectData)),render()}function clearTimeline(){var e=_0x5a4772,t=(projectData=[],localStorage[e(443)](e(432)),saveAndRender(),isLockAreaEnabled=!1,localStorage[e(451)](e(487),JSON[e(498)](isLockAreaEnabled)),updateLockAreaToggle(),document[e(484)]("page-title"));t[e(427)]="My Project",t.style.color=e(485)}function snapToGrid(e){var t=_0x5a4772;return Math[t(501)](e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x5a4772;return Math[t(501)](e/rowHeight)*rowHeight}function render(){let t=_0x5a4772;timeline[t(486)]=t(438),drawResourceRows(),projectData[t(437)](e=>timeline[t(470)](createEpicElement(e))),drawSprintGrid()}function _0x413f(){let e=["filter","click","round","pointerEvents","top","none","body","some","fa-lock","remove","width","projectData","fa-lock-open","clientY","color","onmouseup","setDragImage","key","absolute","resize-handle","addEventListener",".timeline-grid","#009688","36NsyjrI","0.5","750768dOpMvv",'<i class="fas fa-lock-open"></i> Effort',"#34a853","length","getItem","New Epic",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"value","readAsText","className","data:text/json;charset=utf-8,","href","dragover","clientX","page-title","innerText","preventDefault","backgroundColor","div","opacity","pageTitle",')"><i class="fas fa-trash-alt"></i></div>\n    ',".toolbar-item","download","epic","forEach",'<div class="timeline-grid"></div>',"10XZYhpw","target","dragstart","trim","removeItem","setData","createElement","331040nvkPio","9GoWaNH","name","height","mousedown","setItem","51192VbAMAF","getBoundingClientRect","stopPropagation","find","drop","add",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"1736380hNdhor","parse","max","input","My Project","now",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"contains","removeChild",'<i class="fas fa-lock"></i> Effort',"lock-effort-toggle","appendChild","type","Edit Epic Name:","getData","left","dataTransfer","#1a73e8","classList","resourceCount","1nzVndq","result","style","position","30568wcBdLh","getElementById","#B0B0B0","innerHTML","isLockAreaEnabled","highlightRow","setAttribute","resource-line","onmousemove","sprint-border","locked","1742323friouV","resize-handle-vertical","369858eiASYw","91zjHPLg","stringify"];return(_0x413f=function(){return e})()}function drawResourceRows(){var t=_0x5a4772,a=26*sprintWidth;for(let e=0;e<50;e++){var r=document[t(445)](t(430));r.className="resource-row",r.style[t(503)]=e*rowHeight+"px",r[t(481)][t(509)]=a+"px",timeline[t(470)](r)}var e=document[t(445)](t(430));e[t(421)]=t(490),e[t(481)].top=highlightRow*rowHeight-2+"px",timeline[t(470)](e)}function createEpicElement(e){var t=_0x5a4772,a=document[t(445)](t(430));return a[t(421)]=t(436),a[t(481)][t(429)]=e[t(401)],a[t(481)][t(503)]=e[t(503)]+"px",a[t(481)][t(474)]=e[t(474)]+"px",a[t(481)][t(509)]=e[t(509)]*sprintWidth+"px",a.style[t(449)]=e[t(478)]*rowHeight+"px",a[t(486)]=t(418)+e.id+')">'+e.name+t(465)+e.width+t(458)+e[t(478)]+'</div>\n        <div class="delete-epic" onclick="deleteEpic('+e.id+t(433),makeDraggable(a,e),a}function deleteEpic(t){var e=_0x5a4772;projectData=projectData[e(499)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x5a4772,a=projectData[e(455)](e=>e.id===t),r=prompt(e(472),a[e(448)]);null!==r&&(a[e(448)]=r[e(442)]()||e(417),saveAndRender())}function makeDraggable(e,a){let r=_0x5a4772;e[r(407)](r(450),e=>{var t=r;(e[t(440)].classList[t(466)](t(406))?startResizing:e.target[t(477)].contains(t(495))?startVerticalResizing:startDragging)(e,a)})}function startDragging(e,i){let n=_0x5a4772,o=(e[n(428)](),e[n(425)]-e[n(440)][n(453)]().left),l=e[n(400)]-e[n(440)].getBoundingClientRect()[n(503)];document[n(491)]=e=>{var t=n;let a=snapToGrid(e[t(425)]-o-timeline[t(453)]()[t(474)]),r=snapToRow(e[t(400)]-l-timeline[t(453)]().top);a<0&&(a=0),r<0&&(r=0),checkOverlap(i,a,r,i[t(509)]*sprintWidth,i.resourceCount*rowHeight)||(i.left=a,i[t(503)]=r,saveAndRender())},document[n(402)]=()=>document[n(491)]=null}function startResizing(e,r){let i=_0x5a4772,n=e[i(425)],o=r[i(509)]*sprintWidth,l=r.resourceCount*rowHeight;document[i(491)]=e=>{var t,a=i,e=snapToGrid(Math[a(461)](sprintWidth,o+(e.clientX-n))),e=Math.round(e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math[a(501)](t/e),checkOverlap(r,r[a(474)],r[a(503)],e*sprintWidth,t*rowHeight)||(r[a(509)]=e,r[a(478)]=t,saveAndRender())):checkOverlap(r,r[a(474)],r[a(503)],e*sprintWidth,r[a(478)]*rowHeight)||(r[a(509)]=e,saveAndRender())},document[i(402)]=()=>document.onmousemove=null,e[i(454)]()}document[_0x5a4772(484)]("highlightRowInput")[_0x5a4772(419)]=highlightRow,document[_0x5a4772(484)]("highlightRowInput").addEventListener(_0x5a4772(462),e=>{var t=_0x5a4772;highlightRow=parseInt(e[t(440)][t(419)])||1,localStorage[t(451)]("highlightRow",highlightRow),render()}),document.querySelector(_0x5a4772(434)).addEventListener(_0x5a4772(441),e=>{let a=_0x5a4772,r=(e[a(475)][a(444)](a(471),a(436)),e[a(475)][a(403)](new Image,0,0),document[a(445)](a(430)));r[a(421)]=a(436),r[a(481)][a(482)]=a(405),r[a(481)].width=sprintWidth+"px",r[a(481)][a(449)]=rowHeight+"px",r[a(481)][a(429)]=colors[projectData.length%colors[a(415)]],r[a(481)][a(431)]=a(411),r[a(481)][a(502)]=a(504),document[a(505)][a(470)](r),document.addEventListener("dragover",e=>{var t=a;r[t(481)][t(474)]=e[t(425)]-sprintWidth/2+"px",r[t(481)].top=e[t(400)]-rowHeight/2+"px"}),document[a(407)](a(456),()=>{var e=a;document[e(505)][e(467)](r)},{once:!0})}),timeline[_0x5a4772(407)](_0x5a4772(424),e=>e.preventDefault()),timeline[_0x5a4772(407)](_0x5a4772(456),e=>{var t=_0x5a4772;if(e[t(475)][t(473)](t(471))===t(436)){let r=snapToGrid(e[t(425)]-timeline[t(453)]()[t(474)]),i=snapToRow(e[t(400)]-timeline[t(453)]()[t(503)]);var a=colors[projectData[t(415)]%colors[t(415)]],n=Math.floor((e[t(400)]-timeline.getBoundingClientRect()[t(503)])/rowHeight),e=Math.floor((e[t(425)]-timeline.getBoundingClientRect()[t(474)])/sprintWidth);if(i=n*rowHeight,checkOverlap(null,r=e*sprintWidth,i,sprintWidth,rowHeight)){var o=10;let a=!1;for(let t=-o;t<=o;t+=o){for(let e=-o;e<=o;e+=o)if(!checkOverlap(null,r+t,i+e,sprintWidth,rowHeight)){r+=t,i+=e,a=!0;break}if(a)break}if(!a)return void alert("Cannot place Epic here - overlaps with existing Epic.")}projectData.push({id:Date[t(464)](),name:t(417),left:r,top:i,width:1,resourceCount:1,color:a}),saveAndRender()}});let isLockAreaEnabled=JSON[_0x5a4772(460)](localStorage.getItem(_0x5a4772(487)))||!1;function toggleLockArea(){var e=_0x5a4772;isLockAreaEnabled=!isLockAreaEnabled,localStorage.setItem("isLockAreaEnabled",JSON[e(498)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x5a4772,t=document[e(484)](e(469)),a=t.querySelector("i");isLockAreaEnabled?(t.classList[e(457)](e(493)),a[e(477)][e(508)](e(399)),a.classList[e(457)](e(507)),t.innerHTML=e(468)):(t[e(477)][e(508)](e(493)),a.classList[e(508)](e(507)),a.classList[e(457)]("fa-lock-open"),t.innerHTML=e(413))}function startVerticalResizing(e,r){let i=_0x5a4772,n=e[i(400)],o=r[i(478)]*rowHeight,l=r[i(509)]*sprintWidth;document[i(491)]=e=>{var t,a=i,e=snapToRow(Math[a(461)](rowHeight,o+(e.clientY-n))),e=Math[a(501)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math[a(501)](t/e),checkOverlap(r,r[a(474)],r[a(503)],t*sprintWidth,e*rowHeight)||(r[a(509)]=t,r[a(478)]=e,saveAndRender())):checkOverlap(r,r[a(474)],r[a(503)],r[a(509)]*sprintWidth,e*rowHeight)||(r[a(478)]=e,saveAndRender())},document.onmouseup=()=>document[i(491)]=null,e[i(454)]()}function checkOverlap(t,a,r,i=t?.[_0x5a4772(509)]*sprintWidth,n=t?.[_0x5a4772(478)]*rowHeight){let o=_0x5a4772;return projectData[o(506)](e=>e.id!==t?.id&&r<e[o(503)]+e.resourceCount*rowHeight&&r+n>e[o(503)]&&a<e.left+e.width*sprintWidth&&a+i>e.left)}function drawSprintGrid(){var t,a=_0x5a4772,r=document.querySelector(a(408)),i=(r[a(486)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document.createElement(a(430)))[a(421)]=a(492),t[a(481)][a(474)]=e+"px",t[a(481)][a(449)]=n+"px",r.appendChild(t))}updateLockAreaToggle();let savedTitle=localStorage[_0x5a4772(416)](_0x5a4772(432)),pageTitleElement=document.getElementById("page-title");function downloadData(){var e=_0x5a4772,t={projectData:projectData,pageTitle:localStorage.getItem(e(432)),isLockAreaEnabled:JSON[e(460)](localStorage[e(416)](e(487)))},t=e(422)+encodeURIComponent(JSON[e(498)](t)),a=document[e(445)]("a");a.setAttribute(e(423),t),a[e(489)](e(435),"projectData.gntt"),document[e(505)][e(470)](a),a[e(500)](),a[e(508)]()}function _0x5ed4(e,t){let a=_0x413f();return(_0x5ed4=function(e,t){return e-=399,a[e]})(e,t)}function uploadData(e){let r=_0x5a4772,t=e[r(440)].files[0];t&&((e=new FileReader).onload=function(e){var t=r,e=JSON[t(460)](e[t(440)][t(480)]),e=(projectData=e[t(510)]||[],localStorage[t(451)](t(432),e[t(432)]||"My Project"),localStorage[t(451)](t(487),JSON[t(498)](e.isLockAreaEnabled||!1)),saveAndRender(),document[t(484)](t(426))),a=localStorage[t(416)](t(432));a&&"My Project"!==a?(e[t(427)]=a,e[t(481)][t(401)]=""):(e[t(427)]="My Project",e[t(481)][t(401)]="#B0B0B0"),isLockAreaEnabled=JSON[t(460)](localStorage.getItem(t(487)))||!1,updateLockAreaToggle()},e[r(420)](t))}savedTitle&&savedTitle!==_0x5a4772(463)?(pageTitleElement.innerText=savedTitle,pageTitleElement[_0x5a4772(481)].color=""):(pageTitleElement.innerText=_0x5a4772(463),pageTitleElement.style.color=_0x5a4772(485)),pageTitleElement[_0x5a4772(407)]("keydown",e=>{var t=_0x5a4772;"Enter"===e[t(404)]&&e[t(428)]()}),pageTitleElement[_0x5a4772(407)](_0x5a4772(462),e=>{var t=_0x5a4772,e=e.target[t(427)].trim();e&&e!==t(463)?(localStorage.setItem("pageTitle",e),pageTitleElement[t(481)].color=""):(pageTitleElement[t(427)]="My Project",pageTitleElement[t(481)][t(401)]=t(485),localStorage[t(451)](t(432),t(463)))}),saveAndRender();