let _0x93f756=_0x126f,projectData=((()=>{for(var e=_0x126f,t=_0x1979();;)try{if(341380==-parseInt(e(458))+-parseInt(e(446))/2*(parseInt(e(384))/3)+-parseInt(e(414))/4*(-parseInt(e(480))/5)+parseInt(e(484))/6+parseInt(e(389))/7+-parseInt(e(406))/8+parseInt(e(424))/9*(-parseInt(e(395))/10))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),JSON[_0x93f756(439)](localStorage.getItem(_0x93f756(378)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x93f756(442),_0x93f756(420),_0x93f756(419),_0x93f756(380),_0x93f756(388),_0x93f756(417)],highlightRow=parseInt(localStorage.getItem(_0x93f756(401)))||1;function saveAndRender(){var e=_0x93f756;localStorage[e(432)](e(378),JSON.stringify(projectData)),render()}function clearTimeline(){var e=_0x93f756,t=(projectData=[],localStorage[e(434)](e(462)),saveAndRender(),isLockAreaEnabled=!1,localStorage[e(432)](e(461),JSON[e(475)](isLockAreaEnabled)),updateLockAreaToggle(),document[e(473)]("page-title"));t.innerText="My Project",t[e(451)][e(416)]=e(386)}function snapToGrid(e){var t=_0x93f756;return Math[t(408)](e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x93f756;return Math[t(408)](e/rowHeight)*rowHeight}function render(){var e=_0x93f756;timeline[e(415)]=e(411),drawResourceRows(),projectData[e(391)](e=>timeline.appendChild(createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x93f756,r=26*sprintWidth;for(let e=0;e<50;e++){var a=document[t(478)](t(488));a.className=t(405),a[t(451)].top=e*rowHeight+"px",a[t(451)][t(413)]=r+"px",timeline[t(470)](a)}var e=document.createElement("div");e[t(443)]=t(463),e[t(451)].top=highlightRow*rowHeight-2+"px",e[t(451)][t(413)]=timeline.scrollWidth+"px",timeline[t(470)](e)}function createEpicElement(e){var t=_0x93f756,r=document.createElement(t(488));return r.className=t(398),r[t(451)][t(428)]=e[t(416)],r[t(451)][t(440)]=e.top+"px",r[t(451)].left=e[t(396)]+"px",r[t(451)][t(413)]=e[t(413)]*sprintWidth+"px",r[t(451)][t(447)]=e.resourceCount*rowHeight+"px",r.innerHTML=t(390)+e.id+')">'+e[t(381)]+t(481)+e.width+'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> '+e.resourceCount+t(387)+e.id+t(431),makeDraggable(r,e),r}function _0x126f(e,t){let r=_0x1979();return(_0x126f=function(e,t){return e-=375,r[e]})(e,t)}function deleteEpic(t){projectData=projectData.filter(e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x93f756,r=projectData[e(422)](e=>e.id===t),a=prompt("Edit Epic Name:",r[e(381)]);null!==a&&(r[e(381)]=a[e(483)]()||"New Epic",saveAndRender())}function makeDraggable(e,r){e.addEventListener("mousedown",e=>{var t=_0x126f;(e[t(393)].classList[t(477)](t(465))?startResizing:e[t(393)][t(404)][t(477)]("resize-handle-vertical")?startVerticalResizing:startDragging)(e,r)})}function startDragging(e,i){let n=_0x93f756,o=(e[n(438)](),e[n(486)]-e.target[n(445)]()[n(396)]),l=e[n(407)]-e[n(393)][n(445)]()[n(440)];document[n(409)]=e=>{var t=n;let r=snapToGrid(e[t(486)]-o-timeline[t(445)]()[t(396)]),a=snapToRow(e.clientY-l-timeline[t(445)]()[t(440)]);r<0&&(r=0),a<0&&(a=0),checkOverlap(i,r,a,i[t(413)]*sprintWidth,i[t(435)]*rowHeight)||(i[t(396)]=r,i.top=a,saveAndRender())},document.onmouseup=()=>document[n(409)]=null}function startResizing(e,a){let i=_0x93f756,n=e.clientX,o=a[i(413)]*sprintWidth,l=a[i(435)]*rowHeight;document[i(409)]=e=>{var t,r=i,e=snapToGrid(Math[r(487)](sprintWidth,o+(e.clientX-n))),e=Math[r(408)](e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math[r(408)](t/e),checkOverlap(a,a[r(396)],a[r(440)],e*sprintWidth,t*rowHeight)||(a.width=e,a.resourceCount=t,saveAndRender())):checkOverlap(a,a[r(396)],a[r(440)],e*sprintWidth,a.resourceCount*rowHeight)||(a.width=e,saveAndRender())},document[i(479)]=()=>document[i(409)]=null,e.stopPropagation()}document[_0x93f756(473)](_0x93f756(421))[_0x93f756(459)]=highlightRow,document[_0x93f756(473)](_0x93f756(421))[_0x93f756(383)](_0x93f756(444),e=>{var t=_0x93f756;highlightRow=parseInt(e[t(393)][t(459)])||1,localStorage[t(432)](t(401),highlightRow),render()}),document[_0x93f756(472)](_0x93f756(437)).addEventListener("dragstart",e=>{let r=_0x93f756,a=(e[r(377)].setData(r(455),r(398)),e[r(377)].setDragImage(new Image,0,0),document[r(478)](r(488)));a[r(443)]=r(398),a[r(451)][r(468)]="absolute",a[r(451)][r(413)]=sprintWidth+"px",a[r(451)][r(447)]=rowHeight+"px",a[r(451)][r(428)]=colors[projectData.length%colors[r(392)]],a[r(451)][r(467)]=r(375),a[r(451)][r(450)]=r(410),document.body[r(470)](a),document[r(383)]("dragover",e=>{var t=r;a[t(451)][t(396)]=e.clientX-sprintWidth/2+"px",a[t(451)][t(440)]=e[t(407)]-rowHeight/2+"px"}),document.addEventListener(r(485),()=>{var e=r;document[e(418)][e(400)](a)},{once:!0})}),timeline[_0x93f756(383)](_0x93f756(436),e=>e.preventDefault()),timeline[_0x93f756(383)](_0x93f756(485),e=>{var t=_0x93f756;if("epic"===e[t(377)].getData(t(455))){let a=snapToGrid(e[t(486)]-timeline[t(445)]()[t(396)]),i=snapToRow(e[t(407)]-timeline[t(445)]()[t(440)]);var r=colors[projectData[t(392)]%colors[t(392)]],n=Math.floor((e[t(407)]-timeline[t(445)]()[t(440)])/rowHeight),e=Math[t(454)]((e.clientX-timeline[t(445)]().left)/sprintWidth);if(i=n*rowHeight,checkOverlap(null,a=e*sprintWidth,i,sprintWidth,rowHeight)){var o=10;let r=!1;for(let t=-o;t<=o;t+=o){for(let e=-o;e<=o;e+=o)if(!checkOverlap(null,a+t,i+e,sprintWidth,rowHeight)){a+=t,i+=e,r=!0;break}if(r)break}if(!r)return void alert(t(397))}projectData[t(433)]({id:Date[t(464)](),name:t(457),left:a,top:i,width:1,resourceCount:1,color:r}),saveAndRender()}});let isLockAreaEnabled=JSON[_0x93f756(439)](localStorage[_0x93f756(403)](_0x93f756(461)))||!1;function toggleLockArea(){var e=_0x93f756;isLockAreaEnabled=!isLockAreaEnabled,localStorage[e(432)](e(461),JSON[e(475)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x93f756,t=document[e(473)](e(402)),r=t[e(472)]("i");isLockAreaEnabled?(t.classList.add("locked"),r.classList[e(474)](e(469)),r[e(404)][e(456)](e(452)),t[e(415)]=e(385)):(t[e(404)][e(474)](e(448)),r[e(404)][e(474)](e(452)),r.classList.add("fa-lock-open"),t[e(415)]=e(482))}function startVerticalResizing(e,a){let i=_0x93f756,n=e.clientY,o=a.resourceCount*rowHeight,l=a.width*sprintWidth;document[i(409)]=e=>{var t,r=i,e=snapToRow(Math[r(487)](rowHeight,o+(e[r(407)]-n))),e=Math[r(408)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math[r(408)](t/e),checkOverlap(a,a.left,a[r(440)],t*sprintWidth,e*rowHeight)||(a[r(413)]=t,a[r(435)]=e,saveAndRender())):checkOverlap(a,a[r(396)],a[r(440)],a[r(413)]*sprintWidth,e*rowHeight)||(a[r(435)]=e,saveAndRender())},document[i(479)]=()=>document.onmousemove=null,e[i(425)]()}function checkOverlap(t,r,a,i=t?.[_0x93f756(413)]*sprintWidth,n=t?.[_0x93f756(435)]*rowHeight){let o=_0x93f756;return projectData.some(e=>e.id!==t?.id&&a<e.top+e.resourceCount*rowHeight&&a+n>e[o(440)]&&r<e.left+e.width*sprintWidth&&r+i>e.left)}function _0x1979(){let e=["#009688","name","map","addEventListener","241257xaYfdb",'<i class="fas fa-lock"></i> Effort',"#B0B0B0",'</div>\n        <div class="delete-epic" onclick="deleteEpic(',"#9c27b0","3655386ppoJxx",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"forEach","length","target","readAsText","430sBSKXT","left","Cannot place Epic here - overlaps with existing Epic.","epic","Cannot arrange all epics within the defined resource limit.","removeChild","highlightRow","lock-effort-toggle","getItem","classList","resource-row","433568aQApfK","clientY","round","onmousemove","none",'<div class="timeline-grid"></div>',"Enter","width","32gvuVQC","innerHTML","color","#4682B4","body","#6B8E23","#34a853","highlightRowInput","find","result","78219bfhAnh","stopPropagation","data:text/json;charset=utf-8,",".timeline-grid","backgroundColor","keydown","fill",')"><i class="fas fa-trash-alt"></i></div>\n    ',"setItem","push","removeItem","resourceCount","dragover",".toolbar-item","preventDefault","parse","top","sprint-border","#1a73e8","className","input","getBoundingClientRect","6pkxGjq","height","locked","files","pointerEvents","style","fa-lock","arrangeButton","floor","type","add","New Epic","106027ahNafx","value","click","isLockAreaEnabled","pageTitle","resource-line","now","resize-handle","innerText","opacity","position","fa-lock-open","appendChild","href","querySelector","getElementById","remove","stringify","My Project","contains","createElement","onmouseup","259135sMpVSa",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ','<i class="fas fa-lock-open"></i> Effort',"trim","1078554CVwdcP","drop","clientX","max","div","0.5","setAttribute","dataTransfer","projectData","onload"];return(_0x1979=function(){return e})()}function drawSprintGrid(){var t,r=_0x93f756,a=document.querySelector(r(427)),i=(a[r(415)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[r(478)](r(488)))[r(443)]=r(441),t[r(451)].left=e+"px",t[r(451)][r(447)]=n+"px",a.appendChild(t))}updateLockAreaToggle();let savedTitle=localStorage[_0x93f756(403)](_0x93f756(462)),pageTitleElement=document[_0x93f756(473)]("page-title");function downloadData(){var e=_0x93f756,t={projectData:projectData,pageTitle:localStorage[e(403)]("pageTitle"),isLockAreaEnabled:JSON[e(439)](localStorage[e(403)]("isLockAreaEnabled"))},t=e(426)+encodeURIComponent(JSON.stringify(t)),r=document.createElement("a");r[e(376)](e(471),t),r[e(376)]("download","projectData.gntt"),document[e(418)].appendChild(r),r[e(460)](),r[e(474)]()}function uploadData(e){let a=_0x93f756,t=e[a(393)][a(449)][0];t&&((e=new FileReader)[a(379)]=function(e){var t=a,e=JSON[t(439)](e[t(393)][t(423)]),e=(projectData=e[t(378)]||[],localStorage[t(432)](t(462),e[t(462)]||t(476)),localStorage.setItem(t(461),JSON.stringify(e[t(461)]||!1)),saveAndRender(),document[t(473)]("page-title")),r=localStorage.getItem(t(462));r&&r!==t(476)?(e[t(466)]=r,e[t(451)][t(416)]=""):(e.innerText="My Project",e.style[t(416)]=t(386)),isLockAreaEnabled=JSON[t(439)](localStorage.getItem(t(461)))||!1,updateLockAreaToggle()},e[a(394)](t))}function arrangeEpics(){let i=_0x93f756,n=parseInt(document[i(473)](i(421))[i(459)])||1,o=Array(n)[i(430)](0)[i(382)](()=>Array(26)[i(430)](!1));projectData.sort((e,t)=>t.resourceCount*t[i(413)]-e[i(435)]*e[i(413)]),projectData[i(391)](r=>{var e=i;let a=!1;for(let t=0;t<26&&!a;t++)for(let e=0;e<n&&!a;e++)canPlaceEpic(r,e,t,o)&&(placeEpic(r,e,t,o),a=!0);a||alert(e(399))}),saveAndRender()}function canPlaceEpic(r,e,a,i){var n=_0x93f756;for(let t=e;t<e+r[n(435)];t++)for(let e=a;e<a+r[n(413)];e++)if(t>=i[n(392)]||e>=i[0][n(392)]||i[t][e])return!1;return!0}function placeEpic(r,e,a,i){var n=_0x93f756;r[n(396)]=a*sprintWidth,r.top=e*rowHeight;for(let t=e;t<e+r[n(435)];t++)for(let e=a;e<a+r[n(413)];e++)i[t][e]=!0}function compactEpicsVertically(){let e=_0x93f756,i=parseInt(document[e(473)](e(421))[e(459)])||1,n=Array(i)[e(430)](0)[e(382)](()=>Array(26)[e(430)](!1));projectData.forEach(r=>{let a=!1;for(let t=0;t<i&&!a;t++)for(let e=0;e<26&&!a;e++)canPlaceEpic(r,t,e,n)&&(placeEpic(r,t,e,n),a=!0)})}savedTitle&&savedTitle!==_0x93f756(476)?(pageTitleElement[_0x93f756(466)]=savedTitle,pageTitleElement[_0x93f756(451)][_0x93f756(416)]=""):(pageTitleElement[_0x93f756(466)]=_0x93f756(476),pageTitleElement[_0x93f756(451)][_0x93f756(416)]="#B0B0B0"),pageTitleElement.addEventListener(_0x93f756(429),e=>{var t=_0x93f756;e.key===t(412)&&e[t(438)]()}),pageTitleElement.addEventListener(_0x93f756(444),e=>{var t=_0x93f756,e=e[t(393)].innerText[t(483)]();e&&e!==t(476)?(localStorage[t(432)](t(462),e),pageTitleElement[t(451)][t(416)]=""):(pageTitleElement.innerText=t(476),pageTitleElement[t(451)].color=t(386),localStorage[t(432)](t(462),t(476)))}),document[_0x93f756(473)](_0x93f756(453)).addEventListener(_0x93f756(460),arrangeEpics),saveAndRender();