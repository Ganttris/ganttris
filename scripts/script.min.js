let _0x2f085e=_0x5aeb,projectData=((()=>{for(var e=_0x5aeb,t=_0x5d1c();;)try{if(878071==-parseInt(e(180))*(parseInt(e(193))/2)+parseInt(e(236))/3*(parseInt(e(195))/4)+parseInt(e(254))/5*(parseInt(e(154))/6)+-parseInt(e(239))/7+parseInt(e(171))/8*(parseInt(e(184))/9)+parseInt(e(217))/10+-parseInt(e(199))/11)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),window.location[_0x2f085e(255)]!==_0x2f085e(178)&&(alert(_0x2f085e(190)),window.location[_0x2f085e(209)]=_0x2f085e(177)),JSON[_0x2f085e(213)](localStorage[_0x2f085e(251)](_0x2f085e(222)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x2f085e(163),"#34a853",_0x2f085e(260),"#009688",_0x2f085e(197),_0x2f085e(233)],highlightRow=parseInt(localStorage[_0x2f085e(251)](_0x2f085e(182)))||1;function saveAndRender(){var e=_0x2f085e;localStorage[e(162)]("projectData",JSON[e(196)](projectData)),render()}function clearTimeline(){var e=_0x2f085e,t=(projectData=[],localStorage[e(235)]("pageTitle"),saveAndRender(),isLockAreaEnabled=!1,localStorage[e(162)](e(258),JSON[e(196)](isLockAreaEnabled)),updateLockAreaToggle(),document[e(253)](e(250)));t.innerText=e(218),t[e(188)][e(172)]=e(238)}function snapToGrid(e){return Math.round(e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x2f085e;return Math[t(225)](e/rowHeight)*rowHeight}function render(){var e=_0x2f085e;timeline.innerHTML=e(167),drawResourceRows(),projectData[e(230)](e=>timeline.appendChild(createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x2f085e,a=26*sprintWidth;for(let e=0;e<50;e++){var r=document[t(206)](t(227));r[t(185)]=t(158),r[t(188)].top=e*rowHeight+"px",r[t(188)].width=a+"px",timeline.appendChild(r)}var e=document[t(206)]("div");e[t(185)]=t(192),e[t(188)][t(201)]=highlightRow*rowHeight-2+"px",timeline[t(165)](e)}function createEpicElement(e){var t=_0x2f085e,a=document[t(206)]("div");return a[t(185)]=t(249),a[t(188)].backgroundColor=e[t(172)],a[t(188)][t(201)]=e[t(201)]+"px",a[t(188)].left=e[t(261)]+"px",a[t(188)][t(161)]=e[t(161)]*sprintWidth+"px",a[t(188)][t(157)]=e[t(194)]*rowHeight+"px",a.innerHTML=t(234)+e.id+t(183)+e[t(159)]+'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> '+e.width+t(219)+e[t(194)]+t(155)+e.id+t(223),makeDraggable(a,e),a}function deleteEpic(t){var e=_0x2f085e;projectData=projectData[e(175)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x2f085e,a=projectData[e(229)](e=>e.id===t),r=prompt(e(170),a.name);null!==r&&(a[e(159)]=r.trim()||e(216),saveAndRender())}function makeDraggable(e,a){e.addEventListener("mousedown",e=>{var t=_0x5aeb;(e.target[t(191)][t(203)](t(240))?startResizing:e[t(259)].classList[t(203)]("resize-handle-vertical")?startVerticalResizing:startDragging)(e,a)})}function startDragging(e,i){let n=_0x2f085e,o=(e[n(246)](),e[n(211)]-e.target[n(186)]().left),l=e.clientY-e[n(259)][n(186)]().top;document[n(176)]=e=>{var t=n;let a=snapToGrid(e.clientX-o-timeline.getBoundingClientRect()[t(261)]),r=snapToRow(e[t(202)]-l-timeline.getBoundingClientRect().top);a<0&&(a=0),r<0&&(r=0),checkOverlap(i,a,r,i.width*sprintWidth,i[t(194)]*rowHeight)||(i[t(261)]=a,i.top=r,saveAndRender())},document[n(220)]=()=>document[n(176)]=null}function startResizing(e,r){let i=_0x2f085e,n=e[i(211)],o=r[i(161)]*sprintWidth,l=r[i(194)]*rowHeight;document.onmousemove=e=>{var t,a=i,e=snapToGrid(Math[a(252)](sprintWidth,o+(e[a(211)]-n))),e=Math[a(225)](e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math[a(225)](t/e),checkOverlap(r,r.left,r[a(201)],e*sprintWidth,t*rowHeight)||(r[a(161)]=e,r.resourceCount=t,saveAndRender())):checkOverlap(r,r[a(261)],r[a(201)],e*sprintWidth,r.resourceCount*rowHeight)||(r[a(161)]=e,saveAndRender())},document[i(220)]=()=>document[i(176)]=null,e.stopPropagation()}document[_0x2f085e(253)](_0x2f085e(156)).value=highlightRow,document[_0x2f085e(253)]("highlightRowInput").addEventListener(_0x2f085e(237),e=>{var t=_0x2f085e;highlightRow=parseInt(e[t(259)][t(160)])||1,localStorage[t(162)](t(182),highlightRow),render()}),document.querySelector(".toolbar-item").addEventListener(_0x2f085e(256),e=>{var t=_0x2f085e;e[t(244)][t(198)](t(231),"epic")}),timeline.addEventListener(_0x2f085e(200),e=>e[_0x2f085e(246)]()),timeline[_0x2f085e(228)](_0x2f085e(221),e=>{var t,a,r=_0x2f085e;e[r(244)][r(210)](r(231))===r(249)&&(e=snapToGrid(e.clientX-timeline[r(186)]().left),t=snapToRow(projectData[r(204)]*rowHeight),a=colors[projectData[r(204)]%colors.length],checkOverlap(null,e,t,3*sprintWidth)?alert(r(174)):(projectData[r(257)]({id:Date.now(),name:r(216),left:e,top:t,width:3,resourceCount:1,color:a}),saveAndRender()))});let isLockAreaEnabled=JSON[_0x2f085e(213)](localStorage.getItem("isLockAreaEnabled"))||!1;function toggleLockArea(){var e=_0x2f085e;isLockAreaEnabled=!isLockAreaEnabled,localStorage[e(162)](e(258),JSON[e(196)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x2f085e,t=document[e(253)](e(189)),a=t[e(226)]("i");isLockAreaEnabled?(t.classList[e(181)](e(187)),a[e(191)].remove(e(205)),a.classList[e(181)](e(214)),t[e(153)]=e(207)):(t[e(191)].remove(e(187)),a[e(191)][e(232)](e(214)),a[e(191)][e(181)](e(205)),t.innerHTML=e(212))}function startVerticalResizing(e,r){let i=_0x2f085e,n=e.clientY,o=r.resourceCount*rowHeight,l=r.width*sprintWidth;document[i(176)]=e=>{var t,a=i,e=snapToRow(Math[a(252)](rowHeight,o+(e[a(202)]-n))),e=Math[a(225)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math.round(t/e),checkOverlap(r,r[a(261)],r[a(201)],t*sprintWidth,e*rowHeight)||(r[a(161)]=t,r[a(194)]=e,saveAndRender())):checkOverlap(r,r.left,r[a(201)],r[a(161)]*sprintWidth,e*rowHeight)||(r[a(194)]=e,saveAndRender())},document[i(220)]=()=>document[i(176)]=null,e[i(242)]()}function checkOverlap(t,a,r,i=t?.width*sprintWidth,n=t?.[_0x2f085e(194)]*rowHeight){let o=_0x2f085e;return projectData[o(208)](e=>e.id!==t?.id&&r<e[o(201)]+e.resourceCount*rowHeight&&r+n>e[o(201)]&&a<e.left+e[o(161)]*sprintWidth&&a+i>e[o(261)])}function _0x5d1c(){let e=["https://ganttris.com","ganttris.com","pageTitle","2462rBVxqP","add","highlightRow",')">',"15183252eQMkig","className","getBoundingClientRect","locked","style","lock-effort-toggle","This page can only be accessed from ganttris.com","classList","resource-line","370HvOdhj","resourceCount","4eMHNmW","stringify","#9c27b0","setData","12875005oXRBbt","dragover","top","clientY","contains","length","fa-lock-open","createElement",'<i class="fas fa-lock"></i> Effort',"some","href","getData","clientX",'<i class="fas fa-lock-open"></i> Effort',"parse","fa-lock","setAttribute","New Epic","1520910ioeqyO","My Project",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"onmouseup","drop","projectData",')"><i class="fas fa-trash-alt"></i></div>\n    ',"innerText","round","querySelector","div","addEventListener","find","forEach","type","remove","#4682B4",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"removeItem","3091512NdGbAQ","input","#B0B0B0","10777627MzByKc","resize-handle","body","stopPropagation","readAsText","dataTransfer","data:text/json;charset=utf-8,","preventDefault","Enter","keydown","epic","page-title","getItem","max","getElementById","5ytnBJP","hostname","dragstart","push","isLockAreaEnabled","target","#6B8E23","left","innerHTML","7044204xydpbp",'</div>\n        <div class="delete-epic" onclick="deleteEpic(',"highlightRowInput","height","resource-row","name","value","width","setItem","#1a73e8","projectData.gntt","appendChild","key",'<div class="timeline-grid"></div>',"trim","onload","Edit Epic Name:","8VjEDNJ","color","sprint-border","Cannot place Epic here - overlaps with existing Epic.","filter","onmousemove"];return(_0x5d1c=function(){return e})()}function drawSprintGrid(){var t,a=_0x2f085e,r=document[a(226)](".timeline-grid"),i=(r.innerHTML="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[a(206)](a(227)))[a(185)]=a(173),t[a(188)].left=e+"px",t[a(188)][a(157)]=n+"px",r[a(165)](t))}updateLockAreaToggle();let savedTitle=localStorage[_0x2f085e(251)](_0x2f085e(179)),pageTitleElement=document[_0x2f085e(253)]("page-title");function _0x5aeb(e,t){let a=_0x5d1c();return(_0x5aeb=function(e,t){return e-=153,a[e]})(e,t)}function downloadData(){var e=_0x2f085e,t={projectData:projectData,pageTitle:localStorage[e(251)](e(179)),isLockAreaEnabled:JSON.parse(localStorage.getItem(e(258)))},t=e(245)+encodeURIComponent(JSON[e(196)](t)),a=document[e(206)]("a");a.setAttribute(e(209),t),a[e(215)]("download",e(164)),document[e(241)][e(165)](a),a.click(),a[e(232)]()}function uploadData(e){let r=_0x2f085e,t=e.target.files[0];t&&((e=new FileReader)[r(169)]=function(e){var t=r,e=JSON[t(213)](e.target.result),e=(projectData=e[t(222)]||[],localStorage.setItem("pageTitle",e[t(179)]||t(218)),localStorage[t(162)]("isLockAreaEnabled",JSON[t(196)](e.isLockAreaEnabled||!1)),saveAndRender(),document[t(253)](t(250))),a=localStorage[t(251)](t(179));a&&a!==t(218)?(e[t(224)]=a,e[t(188)][t(172)]=""):(e[t(224)]=t(218),e[t(188)].color=t(238)),isLockAreaEnabled=JSON[t(213)](localStorage.getItem(t(258)))||!1,updateLockAreaToggle()},e[r(243)](t))}savedTitle&&"My Project"!==savedTitle?(pageTitleElement[_0x2f085e(224)]=savedTitle,pageTitleElement[_0x2f085e(188)][_0x2f085e(172)]=""):(pageTitleElement[_0x2f085e(224)]=_0x2f085e(218),pageTitleElement[_0x2f085e(188)][_0x2f085e(172)]=_0x2f085e(238)),pageTitleElement.addEventListener(_0x2f085e(248),e=>{var t=_0x2f085e;e[t(166)]===t(247)&&e[t(246)]()}),pageTitleElement.addEventListener(_0x2f085e(237),e=>{var t=_0x2f085e,e=e.target[t(224)][t(168)]();e&&e!==t(218)?(localStorage[t(162)]("pageTitle",e),pageTitleElement[t(188)][t(172)]=""):(pageTitleElement[t(224)]="My Project",pageTitleElement.style[t(172)]="#B0B0B0",localStorage[t(162)](t(179),t(218)))}),saveAndRender();