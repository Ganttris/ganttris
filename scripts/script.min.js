let _0x4e2980=_0x3bc4,projectData=((()=>{for(var e=_0x3bc4,t=_0x38cd();;)try{if(538651==-parseInt(e(490))+-parseInt(e(565))/2*(parseInt(e(552))/3)+-parseInt(e(517))/4*(-parseInt(e(474))/5)+-parseInt(e(484))/6*(parseInt(e(531))/7)+-parseInt(e(494))/8*(-parseInt(e(479))/9)+parseInt(e(471))/10*(-parseInt(e(512))/11)+parseInt(e(483))/12)break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),JSON[_0x4e2980(535)](localStorage[_0x4e2980(487)](_0x4e2980(542)))||[]),rowHeight=50,sprintWidth=120,colors=[_0x4e2980(464),_0x4e2980(492),_0x4e2980(529),_0x4e2980(547),_0x4e2980(493),_0x4e2980(485)];function _0x38cd(){let e=["keydown",')"><i class="fas fa-trash-alt"></i></div>\n    ',"filter","50sBZCTb","locked","clientX","epic","height","#1a73e8","trim","getData","stopPropagation",'<i class="fas fa-lock"></i> Effort',"setData",'<div class="timeline-grid"></div>',"161520PkblmY","addEventListener","dragstart","3980JWkbKt","max","remove","preventDefault","Enter","7164qLxJco","page-title","innerText","onmousemove","29962716FZTZDO","2429310NLUePI","#4682B4","result","getItem","projectData.gntt","div","797764EGyTRb","Cannot place Epic here - overlaps with existing Epic.","#34a853","#9c27b0","7048AkwhXt","setAttribute","onload",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"input","add","resize-handle-vertical","#B0B0B0","querySelector","round","classList","target","color","length","getBoundingClientRect","dragover","files","download","528EAlmOx","resize-handle",')">',"fa-lock","left","1348uuWeML","className",".toolbar-item","stringify","contains","now","Edit Epic Name:","sprint-border","forEach","width","style","fa-lock-open","#6B8E23","dataTransfer","7DlBvhF","type",'</div>\n        <div class="delete-epic" onclick="deleteEpic(',"highlightRow","parse","setItem","key","onmouseup",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"isLockAreaEnabled","getElementById","projectData","clientY","name","createElement","My Project","#009688","readAsText","appendChild","pageTitle",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"113979LZLqpO","href","resource-row","top","backgroundColor","innerHTML","New Epic","drop","resourceCount",".timeline-grid"];return(_0x38cd=function(){return e})()}let highlightRow=parseInt(localStorage[_0x4e2980(487)]("highlightRow"))||1;function saveAndRender(){var e=_0x4e2980;localStorage.setItem("projectData",JSON[e(520)](projectData)),render()}function clearTimeline(){var e=_0x4e2980,t=(projectData=[],localStorage.removeItem(e(550)),saveAndRender(),isLockAreaEnabled=!1,localStorage.setItem(e(540),JSON[e(520)](isLockAreaEnabled)),updateLockAreaToggle(),document.getElementById("page-title"));t[e(481)]=e(546),t[e(527)][e(506)]=e(501)}function snapToGrid(e){var t=_0x4e2980;return Math[t(503)](e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x4e2980;return Math[t(503)](e/rowHeight)*rowHeight}function render(){let t=_0x4e2980;timeline[t(557)]=t(470),drawResourceRows(),projectData[t(525)](e=>timeline[t(549)](createEpicElement(e))),drawSprintGrid()}function drawResourceRows(){var t=_0x4e2980,a=26*sprintWidth;for(let e=0;e<50;e++){var r=document[t(545)](t(489));r[t(518)]=t(554),r[t(527)].top=e*rowHeight+"px",r.style[t(526)]=a+"px",timeline.appendChild(r)}var e=document[t(545)](t(489));e.className="resource-line",e[t(527)][t(555)]=highlightRow*rowHeight-2+"px",timeline[t(549)](e)}function createEpicElement(e){var t=_0x4e2980,a=document[t(545)]("div");return a[t(518)]=t(568),a.style[t(556)]=e.color,a[t(527)].top=e[t(555)]+"px",a[t(527)][t(516)]=e[t(516)]+"px",a[t(527)].width=e[t(526)]*sprintWidth+"px",a[t(527)][t(463)]=e[t(560)]*rowHeight+"px",a[t(557)]=t(551)+e.id+t(514)+e[t(544)]+t(497)+e[t(526)]+t(539)+e[t(560)]+t(533)+e.id+t(563),makeDraggable(a,e),a}function deleteEpic(t){var e=_0x4e2980;projectData=projectData[e(564)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x4e2980,a=projectData.find(e=>e.id===t),r=prompt(e(523),a[e(544)]);null!==r&&(a[e(544)]=r[e(465)]()||e(558),saveAndRender())}function makeDraggable(e,a){e.addEventListener("mousedown",e=>{var t=_0x3bc4;(e[t(505)].classList[t(521)](t(513))?startResizing:e[t(505)].classList.contains(t(500))?startVerticalResizing:startDragging)(e,a)})}function startDragging(e,i){let n=_0x4e2980,o=(e[n(477)](),e.clientX-e.target[n(508)]().left),l=e[n(543)]-e[n(505)].getBoundingClientRect()[n(555)];document[n(482)]=e=>{var t=n;let a=snapToGrid(e.clientX-o-timeline[t(508)]().left),r=snapToRow(e.clientY-l-timeline[t(508)]().top);a<0&&(a=0),r<0&&(r=0),checkOverlap(i,a,r,i[t(526)]*sprintWidth,i[t(560)]*rowHeight)||(i[t(516)]=a,i[t(555)]=r,saveAndRender())},document[n(538)]=()=>document[n(482)]=null}function startResizing(e,r){let i=_0x4e2980,n=e[i(567)],o=r[i(526)]*sprintWidth,l=r[i(560)]*rowHeight;document[i(482)]=e=>{var t,a=i,e=snapToGrid(Math[a(475)](sprintWidth,o+(e[a(567)]-n))),e=Math[a(503)](e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math[a(503)](t/e),checkOverlap(r,r[a(516)],r[a(555)],e*sprintWidth,t*rowHeight)||(r[a(526)]=e,r.resourceCount=t,saveAndRender())):checkOverlap(r,r[a(516)],r[a(555)],e*sprintWidth,r[a(560)]*rowHeight)||(r[a(526)]=e,saveAndRender())},document[i(538)]=()=>document[i(482)]=null,e[i(467)]()}document[_0x4e2980(541)]("highlightRowInput").value=highlightRow,document.getElementById("highlightRowInput")[_0x4e2980(472)](_0x4e2980(498),e=>{var t=_0x4e2980;highlightRow=parseInt(e[t(505)].value)||1,localStorage[t(536)](t(534),highlightRow),render()}),document[_0x4e2980(502)](_0x4e2980(519))[_0x4e2980(472)](_0x4e2980(473),e=>{var t=_0x4e2980;e[t(530)][t(469)]("type",t(568))}),timeline[_0x4e2980(472)](_0x4e2980(509),e=>e[_0x4e2980(477)]()),timeline[_0x4e2980(472)](_0x4e2980(559),e=>{var t,a,r=_0x4e2980;e[r(530)][r(466)](r(532))===r(568)&&(e=snapToGrid(e[r(567)]-timeline[r(508)]()[r(516)]),t=snapToRow(projectData[r(507)]*rowHeight),a=colors[projectData[r(507)]%colors[r(507)]],checkOverlap(null,e,t,3*sprintWidth)?alert(r(491)):(projectData.push({id:Date[r(522)](),name:r(558),left:e,top:t,width:3,resourceCount:1,color:a}),saveAndRender()))});let isLockAreaEnabled=JSON[_0x4e2980(535)](localStorage.getItem(_0x4e2980(540)))||!1;function toggleLockArea(){var e=_0x4e2980;isLockAreaEnabled=!isLockAreaEnabled,localStorage[e(536)](e(540),JSON[e(520)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x4e2980,t=document[e(541)]("lock-effort-toggle"),a=t[e(502)]("i");isLockAreaEnabled?(t.classList[e(499)](e(566)),a[e(504)].remove(e(528)),a.classList.add(e(515)),t[e(557)]=e(468)):(t[e(504)][e(476)]("locked"),a.classList[e(476)]("fa-lock"),a[e(504)][e(499)](e(528)),t[e(557)]='<i class="fas fa-lock-open"></i> Effort')}function startVerticalResizing(e,r){let i=_0x4e2980,n=e[i(543)],o=r.resourceCount*rowHeight,l=r.width*sprintWidth;document[i(482)]=e=>{var t,a=i,e=snapToRow(Math[a(475)](rowHeight,o+(e[a(543)]-n))),e=Math[a(503)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math[a(503)](t/e),checkOverlap(r,r.left,r.top,t*sprintWidth,e*rowHeight)||(r[a(526)]=t,r[a(560)]=e,saveAndRender())):checkOverlap(r,r[a(516)],r[a(555)],r.width*sprintWidth,e*rowHeight)||(r[a(560)]=e,saveAndRender())},document.onmouseup=()=>document.onmousemove=null,e[i(467)]()}function checkOverlap(t,a,r,i=t?.[_0x4e2980(526)]*sprintWidth,n=t?.[_0x4e2980(560)]*rowHeight){let o=_0x4e2980;return projectData.some(e=>e.id!==t?.id&&r<e[o(555)]+e[o(560)]*rowHeight&&r+n>e[o(555)]&&a<e.left+e[o(526)]*sprintWidth&&a+i>e[o(516)])}function drawSprintGrid(){var t,a=_0x4e2980,r=document.querySelector(a(561)),i=(r[a(557)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[a(545)](a(489)))[a(518)]=a(524),t[a(527)][a(516)]=e+"px",t[a(527)][a(463)]=n+"px",r.appendChild(t))}updateLockAreaToggle();let savedTitle=localStorage.getItem(_0x4e2980(550)),pageTitleElement=document.getElementById(_0x4e2980(480));function _0x3bc4(e,t){let a=_0x38cd();return(_0x3bc4=function(e,t){return e-=463,a[e]})(e,t)}function downloadData(){var e=_0x4e2980,t={projectData:projectData,pageTitle:localStorage[e(487)](e(550)),isLockAreaEnabled:JSON[e(535)](localStorage.getItem(e(540)))},t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON[e(520)](t)),a=document[e(545)]("a");a[e(495)](e(553),t),a[e(495)](e(511),e(488)),document.body[e(549)](a),a.click(),a[e(476)]()}function uploadData(e){let r=_0x4e2980,t=e[r(505)][r(510)][0];t&&((e=new FileReader)[r(496)]=function(e){var t=r,e=JSON[t(535)](e[t(505)][t(486)]),e=(projectData=e[t(542)]||[],localStorage[t(536)]("pageTitle",e[t(550)]||t(546)),localStorage.setItem(t(540),JSON[t(520)](e[t(540)]||!1)),saveAndRender(),document[t(541)](t(480))),a=localStorage[t(487)]("pageTitle");a&&a!==t(546)?(e[t(481)]=a,e[t(527)][t(506)]=""):(e[t(481)]="My Project",e[t(527)][t(506)]=t(501)),isLockAreaEnabled=JSON[t(535)](localStorage[t(487)](t(540)))||!1,updateLockAreaToggle()},e[r(548)](t))}savedTitle&&"My Project"!==savedTitle?(pageTitleElement[_0x4e2980(481)]=savedTitle,pageTitleElement.style[_0x4e2980(506)]=""):(pageTitleElement[_0x4e2980(481)]=_0x4e2980(546),pageTitleElement[_0x4e2980(527)][_0x4e2980(506)]=_0x4e2980(501)),pageTitleElement[_0x4e2980(472)](_0x4e2980(562),e=>{var t=_0x4e2980;e[t(537)]===t(478)&&e.preventDefault()}),pageTitleElement[_0x4e2980(472)](_0x4e2980(498),e=>{var t=_0x4e2980,e=e.target[t(481)][t(465)]();e&&e!==t(546)?(localStorage.setItem("pageTitle",e),pageTitleElement[t(527)][t(506)]=""):(pageTitleElement.innerText="My Project",pageTitleElement[t(527)][t(506)]=t(501),localStorage[t(536)](t(550),"My Project"))}),saveAndRender();