let _0x38e233=_0x100d,projectData=((()=>{for(var e=_0x100d,t=_0x1980();;)try{if(282274==-parseInt(e(552))*(-parseInt(e(560))/2)+-parseInt(e(578))/3+parseInt(e(587))/4+-parseInt(e(581))/5*(parseInt(e(518))/6)+-parseInt(e(488))/7+parseInt(e(541))/8*(parseInt(e(521))/9)+-parseInt(e(599))/10*(parseInt(e(584))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(),JSON.parse(localStorage[_0x38e233(595)](_0x38e233(517)))||[]),rowHeight=50,sprintWidth=120,colors=["#1a73e8",_0x38e233(594),_0x38e233(566),_0x38e233(569),_0x38e233(591),_0x38e233(533)],highlightRow=parseInt(localStorage[_0x38e233(595)](_0x38e233(516)))||1;function saveAndRender(){var e=_0x38e233;localStorage[e(586)](e(517),JSON.stringify(projectData)),render()}function clearTimeline(){var e=_0x38e233,t=(projectData=[],localStorage.removeItem("pageTitle"),saveAndRender(),isLockAreaEnabled=!1,localStorage[e(586)](e(568),JSON[e(554)](isLockAreaEnabled)),updateLockAreaToggle(),document.getElementById(e(544)));t[e(490)]=e(580),t[e(532)][e(542)]="#B0B0B0"}function snapToGrid(e){var t=_0x38e233;return Math[t(601)](e/sprintWidth)*sprintWidth}function snapToRow(e){var t=_0x38e233;return Math[t(601)](e/rowHeight)*rowHeight}function render(){let t=_0x38e233;timeline.innerHTML=t(559),drawResourceRows(),projectData[t(501)](e=>timeline[t(557)](createEpicElement(e))),drawSprintGrid()}function _0x100d(e,t){let r=_0x1980();return(_0x100d=function(e,t){return e-=486,r[e]})(e,t)}function drawResourceRows(){var t=_0x38e233,r=26*sprintWidth;for(let e=0;e<50;e++){var a=document[t(582)](t(575));a.className="resource-row",a[t(532)][t(525)]=e*rowHeight+"px",a.style[t(491)]=r+"px",timeline[t(557)](a)}var e=document[t(582)]("div");e[t(596)]=t(562),e.style.top=highlightRow*rowHeight-2+"px",e.style[t(491)]=timeline[t(553)]+"px",timeline[t(557)](e)}function createEpicElement(e){var t=_0x38e233,r=document[t(582)]("div");return r[t(596)]="epic",r[t(532)].backgroundColor=e[t(542)],r[t(532)][t(525)]=e[t(525)]+"px",r[t(532)][t(603)]=e.left+"px",r[t(532)].width=e[t(491)]*sprintWidth+"px",r[t(532)].height=e[t(564)]*rowHeight+"px",r[t(558)]=t(539)+e.id+')">'+e[t(487)]+t(513)+e[t(491)]+t(486)+e[t(564)]+t(515)+e.id+')"><i class="fa'+(e.starred?"s":"r")+t(498)+e.id+t(502),makeDraggable(r,e),r}function toggleStarEpic(t){var e=_0x38e233,r=projectData.find(e=>e.id===t);r.starred=!r[e(537)],saveAndRender()}function deleteEpic(t){var e=_0x38e233;projectData=projectData[e(538)](e=>e.id!==t),saveAndRender()}function startEditingEpicName(t){var e=_0x38e233,r=projectData.find(e=>e.id===t),a=prompt(e(520),r[e(487)]);null!==a&&(r[e(487)]=a[e(585)]()||e(489),saveAndRender())}function makeDraggable(e,r){let a=_0x38e233;e[a(540)](a(550),e=>{var t=a;e.target[t(556)][t(607)]("resize-handle")?startResizing(e,r):e.target[t(556)][t(607)](t(606))?startVerticalResizing(e,r):e[t(524)][t(556)][t(607)](t(597))||e[t(524)].classList[t(607)](t(605))||e.target[t(602)](".epic > div[onclick]")||startDragging(e,r)})}function startDragging(e,i){let n=_0x38e233,o=(e.preventDefault(),e.clientX-e[n(524)][n(549)]().left),l=e[n(500)]-e[n(524)][n(549)]()[n(525)],c,d=!1,s=!1;document[n(497)]=e=>{var t=n;let r=snapToGrid(e.clientX-o+timeline[t(600)]-timeline[t(549)]().left),a=snapToRow(e[t(500)]-l-timeline[t(549)]().top);r<0&&(r=0),a<0&&(a=0),checkOverlap(i,r,a,i[t(491)]*sprintWidth,i.resourceCount*rowHeight)?(d&&s||(d=!0,s=!0,(c=document.createElement("div"))[t(596)]=t(579),c[t(532)][t(534)]="absolute",c[t(532)][t(491)]=i[t(491)]*sprintWidth+"px",c[t(532)][t(546)]=i[t(564)]*rowHeight+"px",c[t(532)].backgroundColor=i[t(542)],c[t(532)][t(555)]="0.5",c[t(532)].pointerEvents=t(531),document.body.appendChild(c)),c[t(532)].left=e[t(590)]-o+"px",c[t(532)].top=e.clientY-l+"px"):(i[t(603)]=r,i[t(525)]=a,render(),c&&(document[t(563)].removeChild(c),c=null),s=!1)},document[n(604)]=()=>{var e=n;document[e(497)]=null,c&&document[e(563)].removeChild(c),saveAndRender()},e[n(536)]()}function startResizing(e,a){let i=_0x38e233,n=e[i(590)],o=a[i(491)]*sprintWidth,l=a[i(564)]*rowHeight;document.onmousemove=e=>{var t,r=i,e=snapToGrid(Math[r(576)](sprintWidth,o+(e[r(590)]-n))),e=Math[r(601)](e/sprintWidth);isLockAreaEnabled?(t=l/rowHeight*(o/sprintWidth),t=Math.round(t/e),checkOverlap(a,a[r(603)],a[r(525)],e*sprintWidth,t*rowHeight)||(a.width=e,a[r(564)]=t,saveAndRender())):checkOverlap(a,a[r(603)],a[r(525)],e*sprintWidth,a[r(564)]*rowHeight)||(a[r(491)]=e,saveAndRender())},document[i(604)]=()=>document[i(497)]=null,e[i(536)]()}document.getElementById(_0x38e233(571)).value=highlightRow,document[_0x38e233(574)](_0x38e233(571)).addEventListener("input",e=>{var t=_0x38e233;highlightRow=parseInt(e[t(524)][t(547)])||1,localStorage[t(586)](t(516),highlightRow),render()}),document[_0x38e233(509)](_0x38e233(589))[_0x38e233(540)](_0x38e233(506),e=>{let r=_0x38e233,a=(e.dataTransfer.setData(r(508),"epic"),e[r(530)][r(572)](new Image,0,0),document.createElement(r(575)));a.className=r(579),a.style.position="absolute",a.style[r(491)]=sprintWidth+"px",a.style.height=rowHeight+"px",a[r(532)][r(592)]=colors[projectData[r(505)]%colors[r(505)]],a.style[r(555)]=r(588),a.style[r(512)]="none",document[r(563)][r(557)](a),document[r(540)]("dragover",e=>{var t=r;a.style[t(603)]=e.clientX-sprintWidth/2+"px",a[t(532)][t(525)]=e.clientY-rowHeight/2+"px"}),document[r(540)]("drop",()=>{var e=r;document[e(563)][e(493)](a)},{once:!0})}),timeline[_0x38e233(540)](_0x38e233(561),e=>e[_0x38e233(510)]()),timeline[_0x38e233(540)](_0x38e233(529),e=>{var t=_0x38e233;if(e[t(530)][t(577)](t(508))===t(579)){let a=snapToGrid(e.clientX+timeline.scrollLeft-timeline[t(549)]()[t(603)]),i=snapToRow(e[t(500)]-timeline[t(549)]().top);var r=colors[projectData[t(505)]%colors[t(505)]],n=Math[t(551)]((e.clientY-timeline[t(549)]()[t(525)])/rowHeight),e=Math[t(551)]((e.clientX+timeline.scrollLeft-timeline[t(549)]()[t(603)])/sprintWidth);if(i=n*rowHeight,checkOverlap(null,a=e*sprintWidth,i,sprintWidth,rowHeight)){var o=10;let r=!1;for(let t=-o;t<=o;t+=o){for(let e=-o;e+=o;e+=o)if(!checkOverlap(null,a+t,i+e,sprintWidth,rowHeight)){a+=t,i+=e,r=!0;break}if(r)break}if(!r)return void alert(t(573))}projectData[t(504)]({id:Date.now(),name:"New Epic",left:a,top:i,width:1,resourceCount:1,color:r,starred:!1}),saveAndRender()}});let isLockAreaEnabled=JSON[_0x38e233(543)](localStorage[_0x38e233(595)](_0x38e233(568)))||!1;function toggleLockArea(){var e=_0x38e233;isLockAreaEnabled=!isLockAreaEnabled,localStorage.setItem(e(568),JSON[e(554)](isLockAreaEnabled)),updateLockAreaToggle()}function updateLockAreaToggle(){var e=_0x38e233,t=document[e(574)]("lock-effort-toggle"),r=t[e(509)]("i");isLockAreaEnabled?(t[e(556)][e(598)](e(526)),r[e(556)][e(565)](e(511)),r.classList[e(598)](e(522)),t[e(558)]='<i class="fas fa-lock"></i> Effort'):(t[e(556)].remove(e(526)),r[e(556)][e(565)](e(522)),r[e(556)][e(598)](e(511)),t.innerHTML='<i class="fas fa-lock-open"></i> Effort')}function _0x1980(){let e=["Enter","removeChild","pageTitle","setAttribute","fill","onmousemove",' fa-star"></i></div>\n        <div class="delete-epic" onclick="deleteEpic(',"some","clientY","forEach",')"><i class="fas fa-trash-alt"></i></div>\n    ',"key","push","length","dragstart","download","type","querySelector","preventDefault","fa-lock-open","pointerEvents",'</div>\n        <div class="resize-handle"></div>\n        <div class="resize-handle-vertical"></div>\n        <div class="epic-label"><i class="fas fa-clock"></i> ',"result",'</div>\n        <div class="star-epic" onclick="toggleStarEpic(',"highlightRow","projectData","6AUFrxJ","files","Edit Epic Name:","99xezOOy","fa-lock","Cannot arrange all epics within the defined resource limit.","target","top","locked",".timeline-grid","keydown","drop","dataTransfer","none","style","#4682B4","position","sort","stopPropagation","starred","filter",'\n        <div style="cursor: text; font-weight: bold;" onclick="startEditingEpicName(',"addEventListener","389600fSncHo","color","parse","page-title","click","height","value","#B0B0B0","getBoundingClientRect","mousedown","floor","4093LrNiaM","scrollWidth","stringify","opacity","classList","appendChild","innerHTML",'<div class="timeline-grid"></div>',"94oNwTOK","dragover","resource-line","body","resourceCount","remove","#6B8E23","map","isLockAreaEnabled","#009688","onload","highlightRowInput","setDragImage","Cannot place Epic here - overlaps with existing Epic.","getElementById","div","max","getData","467520rkVKkP","epic","My Project","1949755bHfYDy","createElement","data:text/json;charset=utf-8,","2041798eYgZfa","trim","setItem","2157796LgbUNg","0.5",".toolbar-item","clientX","#9c27b0","backgroundColor","arrangeButton","#34a853","getItem","className","star-epic","add","10iQJebP","scrollLeft","round","closest","left","onmouseup","delete-epic","resize-handle-vertical","contains","sprint-border",'</div>\n        <div class="epic-resource-label"><i class="fas fa-users"></i> ',"name","1776859naXzJw","New Epic","innerText","width"];return(_0x1980=function(){return e})()}function startVerticalResizing(e,a){let i=_0x38e233,n=e[i(500)],o=a.resourceCount*rowHeight,l=a[i(491)]*sprintWidth;document[i(497)]=e=>{var t,r=i,e=snapToRow(Math[r(576)](rowHeight,o+(e.clientY-n))),e=Math[r(601)](e/rowHeight);isLockAreaEnabled?(t=o/rowHeight*(l/sprintWidth),t=Math[r(601)](t/e),checkOverlap(a,a[r(603)],a[r(525)],t*sprintWidth,e*rowHeight)||(a[r(491)]=t,a[r(564)]=e,saveAndRender())):checkOverlap(a,a[r(603)],a.top,a[r(491)]*sprintWidth,e*rowHeight)||(a[r(564)]=e,saveAndRender())},document[i(604)]=()=>document[i(497)]=null,e[i(536)]()}function checkOverlap(t,r,a,i=t?.width*sprintWidth,n=t?.resourceCount*rowHeight){let o=_0x38e233;return projectData[o(499)](e=>e.id!==t?.id&&a<e[o(525)]+e[o(564)]*rowHeight&&a+n>e.top&&r<e[o(603)]+e.width*sprintWidth&&r+i>e.left)}function drawSprintGrid(){var t,r=_0x38e233,a=document.querySelector(r(527)),i=(a[r(558)]="",26*sprintWidth),n=50*rowHeight;for(let e=0;e<i;e+=sprintWidth)0<e&&e/sprintWidth%6==0&&((t=document[r(582)]("div"))[r(596)]=r(608),t[r(532)].left=e+"px",t[r(532)][r(546)]=n+"px",a[r(557)](t))}updateLockAreaToggle();let savedTitle=localStorage.getItem(_0x38e233(494)),pageTitleElement=document[_0x38e233(574)](_0x38e233(544));function downloadData(){var e=_0x38e233,t={projectData:projectData,pageTitle:localStorage.getItem(e(494)),isLockAreaEnabled:JSON[e(543)](localStorage[e(595)](e(568)))},t=e(583)+encodeURIComponent(JSON[e(554)](t)),r=document[e(582)]("a");r[e(495)]("href",t),r[e(495)](e(507),"projectData.gntt"),document[e(563)][e(557)](r),r[e(545)](),r[e(565)]()}function uploadData(e){let a=_0x38e233,t=e[a(524)][a(519)][0];t&&((e=new FileReader)[a(570)]=function(e){var t=a,e=JSON[t(543)](e[t(524)][t(514)]),e=(projectData=e.projectData||[],localStorage[t(586)](t(494),e[t(494)]||"My Project"),localStorage[t(586)](t(568),JSON[t(554)](e.isLockAreaEnabled||!1)),saveAndRender(),document[t(574)](t(544))),r=localStorage[t(595)]("pageTitle");r&&r!==t(580)?(e[t(490)]=r,e[t(532)][t(542)]=""):(e[t(490)]="My Project",e[t(532)][t(542)]=t(548)),isLockAreaEnabled=JSON[t(543)](localStorage.getItem(t(568)))||!1,updateLockAreaToggle()},e.readAsText(t))}function arrangeEpics(){let i=_0x38e233,n=parseInt(document.getElementById(i(571)).value)||1,o=Array(n)[i(496)](0).map(()=>Array(26).fill(!1));projectData[i(535)]((e,t)=>{var r=i;return e[r(537)]!==t[r(537)]?t.starred-e[r(537)]:t[r(564)]*t.width-e[r(564)]*e[r(491)]}),projectData[i(501)](r=>{var e=i;let a=!1;for(let t=0;t<26&&!a;t++)for(let e=0;e<n&&!a;e++)canPlaceEpic(r,e,t,o)&&(placeEpic(r,e,t,o),a=!0);a||alert(e(523))}),saveAndRender()}function canPlaceEpic(r,e,a,i){var n=_0x38e233;for(let t=e;t<e+r[n(564)];t++)for(let e=a;e<a+r.width;e++)if(t>=i[n(505)]||e>=i[0].length||i[t][e])return!1;return!0}function placeEpic(r,e,a,i){var n=_0x38e233;r[n(603)]=a*sprintWidth,r[n(525)]=e*rowHeight;for(let t=e;t<e+r[n(564)];t++)for(let e=a;e<a+r[n(491)];e++)i[t][e]=!0}function compactEpicsVertically(){let e=_0x38e233,i=parseInt(document[e(574)](e(571))[e(547)])||1,n=Array(i)[e(496)](0)[e(567)](()=>Array(26)[e(496)](!1));projectData[e(501)](r=>{let a=!1;for(let t=0;t<i&&!a;t++)for(let e=0;e<26&&!a;e++)canPlaceEpic(r,t,e,n)&&(placeEpic(r,t,e,n),a=!0)})}savedTitle&&savedTitle!==_0x38e233(580)?(pageTitleElement.innerText=savedTitle,pageTitleElement[_0x38e233(532)][_0x38e233(542)]=""):(pageTitleElement[_0x38e233(490)]=_0x38e233(580),pageTitleElement[_0x38e233(532)][_0x38e233(542)]="#B0B0B0"),pageTitleElement[_0x38e233(540)](_0x38e233(528),e=>{var t=_0x38e233;e[t(503)]===t(492)&&e[t(510)]()}),pageTitleElement[_0x38e233(540)]("input",e=>{var t=_0x38e233,e=e[t(524)][t(490)][t(585)]();e&&e!==t(580)?(localStorage.setItem(t(494),e),pageTitleElement[t(532)][t(542)]=""):(pageTitleElement[t(490)]=t(580),pageTitleElement[t(532)][t(542)]="#B0B0B0",localStorage[t(586)]("pageTitle","My Project"))}),document[_0x38e233(574)](_0x38e233(593))[_0x38e233(540)](_0x38e233(545),arrangeEpics),saveAndRender();